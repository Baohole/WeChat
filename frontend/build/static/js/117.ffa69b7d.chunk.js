"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[117],{6522:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(1134),o=n(184);const a=e=>{let{children:t,onSubmit:n,methods:a}=e;return(0,o.jsx)(r.RV,{...a,children:(0,o.jsx)("form",{onSubmit:n,children:t})})}},279:(e,t,n)=>{n.d(t,{m3:()=>c,au:()=>h,sX:()=>_,ZP:()=>r.Z});var r=n(6522),o=n(6314),a=n(9441),i=n(2791),s=n(1134),l=n(184);function c(e){let{keyName:t="",helperText:n,inputs:r=[],...c}=e;const d=(0,i.useRef)(null),{control:h,setValue:u}=(0,s.Gc)(),p=(e,n)=>{const{maxLength:r,name:o}=e.target,a=o.replace(t,""),i=Number(a),s=document.querySelector("input[name=".concat(t).concat(i-1,"]"));let l=e.target.value.toUpperCase();if(0===l.length&&null!==s)e.preventDefault(),s.focus(),u(o,"");else if(l.length>r)l=l[0];else if(l.length>=r&&i<6){const e=document.querySelector("input[name=".concat(t).concat(i+1,"]"));null!==e&&e.focus()}u(o,l),n(e)};return(0,l.jsx)(o.Z,{direction:"row",justifyContent:"center",spacing:2,ref:d,onPaste:e=>{e.preventDefault();e.clipboardData.getData("text").split("").forEach(((e,n)=>{const r="".concat(t).concat(n+1);u(r,e.toUpperCase())}))},children:r.map(((e,r)=>(0,l.jsx)(s.Qr,{name:"".concat(t).concat(r+1),render:e=>{let{field:t,fieldState:{error:o}}=e;return(0,l.jsx)(a.Z,{...t,error:!!o,autoFocus:0===r,placeholder:"-",onInput:e=>{e.target.value=e.target.value.toUpperCase(),p(e,t.onChange)},onChange:e=>{p(e,t.onChange)},onFocus:e=>e.currentTarget.select(),InputProps:{sx:{"& input":{textAlign:"center"}}},inputProps:{maxLength:1,type:"text"},helperText:o?o.message:n,...c})},control:h},e)))})}var d=n(3967);function h(e){let{name:t,helperText:n,...r}=e;const{control:o}=(0,s.Gc)(),i=(0,d.Z)();return(0,l.jsx)(s.Qr,{name:t,control:o,render:e=>{let{field:t,fieldState:{error:o}}=e;return(0,l.jsx)(a.Z,{sx:{mt:1},...t,fullWidth:!0,value:"number"===typeof t.value&&0===t.value?"":t.value,InputProps:{sx:{"& textarea":{scrollbarColor:"".concat(i.palette.primary.main," transparent"),scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:i.palette.primary.main,borderRadius:"10px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}}},error:!!o,helperText:o?o.message:n,...r})}})}var u=n(7071),p=n(7087),g=n(4554);const x=(0,i.forwardRef)(((e,t)=>{let{disabledEffect:n=!1,effect:r="blur",sx:o,...a}=e;const i=(0,l.jsx)(g.Z,{component:p.LazyLoadImage,wrapperClassName:"wrapper",effect:n?void 0:r,placeholderSrc:n?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},...a});return(0,l.jsx)(g.Z,{ref:t,component:"span",sx:{lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"},...o},children:i})}));function m(e){let{file:t}=e;if(!t)return null;const n="string"===typeof t?t:t.preview;return(0,l.jsx)(x,{alt:"avatar",src:n,sx:{zIndex:8,overflow:"hidden",borderRadius:"50%",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)"}})}var j=n(5289),v=n(5661),f=n(890),b=n(3400),w=n(9157),Z=n(7123),y=n(9872),C=n(6151),k=n(8579),I=n(7005);function P(e){return e*Math.PI/180}async function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const o=await(a=e,new Promise(((e,t)=>{const n=new Image;n.addEventListener("load",(()=>e(n))),n.addEventListener("error",(e=>t(e))),n.setAttribute("crossOrigin","anonymous"),n.src=a})));var a;const i=document.createElement("canvas"),s=i.getContext("2d");if(!s)return null;const l=P(n),{width:c,height:d}=function(e,t,n){const r=P(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}(o.width,o.height,n);i.width=c,i.height=d,s.translate(c/2,d/2),s.rotate(l),s.scale(r.horizontal?-1:1,r.vertical?-1:1),s.translate(-o.width/2,-o.height/2),s.drawImage(o,0,0);const h=document.createElement("canvas"),u=h.getContext("2d");return u?(h.width=t.width,h.height=t.height,u.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise(((e,t)=>{h.toBlob((t=>{e(URL.createObjectURL(t))}),"image/jpeg")}))):null}const R=e=>{let{open:t,handleClose:n,image:r,onUse:a}=e;const[s,c]=(0,i.useState)({x:0,y:0}),[d,h]=(0,i.useState)(0),[u,p]=(0,i.useState)(1),[g,x]=(0,i.useState)(null);return(0,l.jsxs)(j.Z,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs","aria-labelledby":"responsive-dialog-title",keepMounted:!0,sx:{p:4},children:[(0,l.jsxs)(v.Z,{sx:{mb:3},id:"responsive-dialog-title",children:[(0,l.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,l.jsx)(f.Z,{variant:"h5",textAlign:"center",p:1.5,children:"Make your Avatar"}),(0,l.jsx)(b.Z,{onClick:n,children:(0,l.jsx)(k.Z,{weight:"fill"})})]}),(0,l.jsx)(o.Z,{justifyContent:"center",alignItems:"center"})]}),(0,l.jsx)(w.Z,{sx:{overflowY:"scroll",height:"25rem",position:"relative"},className:"scrollbar",children:(0,l.jsx)(I.ZP,{image:r,crop:s,cropShape:"round",rotation:d,zoom:u,aspect:1,onCropChange:c,onRotationChange:h,onCropComplete:(e,t)=>{x(t)},onZoomChange:p})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(o.Z,{justifyContent:"space-between",sx:{flexGrow:1},direction:"column",children:[(0,l.jsxs)(o.Z,{direction:"column",justifyContent:"flex-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{variant:"overline",children:"Zoom"}),(0,l.jsx)(y.ZP,{value:u,min:1,max:8,step:.1,"aria-labelledby":"Zoom",onChange:(e,t)=>p(t)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{variant:"overline",children:"Rotation"}),(0,l.jsx)(y.ZP,{value:d,min:0,max:360,step:90,"aria-labelledby":"Rotation",onChange:(e,t)=>h(t)})]})]}),(0,l.jsxs)(o.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,l.jsx)(C.Z,{autoFocus:!0,onClick:n,children:"Cancel"}),(0,l.jsx)(C.Z,{onClick:async()=>{try{const e=await S(r,g,d);a(e)}catch(e){console.error(e)}},autoFocus:!0,children:"Confirm"})]})]})})]})};var E=n(3954),z=n(6934),L=n(2065),U=n(6526),A=n(8389),F=n(4198);const D=(0,z.ZP)("div")({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"}),M=(0,z.ZP)("div")({position:"relative"}),q=(0,z.ZP)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",display:"flex",cursor:"pointer",overflow:"hidden",borderRadius:"50%",alignItems:"center",justifyContent:"center",border:"1px dashed ".concat((0,L.Fq)(t.palette.grey[500],.32))}})),T=(0,z.ZP)(b.Z)((e=>{let{theme:t,setval:n}=e;return{position:"absolute",top:t.spacing(14.5),right:t.spacing(n),zIndex:10,color:t.palette.text.primary,backgroundColor:t.palette.background.default,border:"1px solid ".concat((0,L.Fq)(t.palette.grey[500],.32)),borderRadius:"50%",padding:t.spacing(1),"&:hover":{backgroundColor:t.palette.background.neutral}}})),N=(0,z.ZP)("div")((e=>{let{theme:t}=e;return{zIndex:7,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"calc(100% - 16px)",height:"calc(100% - 16px)",color:t.palette.text.disabled,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter})}}));function Q(e){let{error:t,file:n,disabled:r,helperText:o,onRemove:a,onCrop:i,sx:s,...c}=e;const{getRootProps:d,getInputProps:h,isDragActive:u,isDragReject:p}=(0,E.uI)({multiple:!1,disabled:r,...c}),g=!!n,x=p||!!t;return(0,l.jsxs)(D,{children:[(0,l.jsxs)(M,{children:[(0,l.jsxs)(q,{...d(),sx:{...u&&{opacity:.72},...x&&{borderColor:"error.light",...g&&{bgcolor:"error.lighter"}},...r&&{opacity:.48,pointerEvents:"none"},...g&&{"&:hover":{"& .placeholder":{opacity:1}}},...s},children:[(0,l.jsx)("input",{...h()}),g&&(0,l.jsx)(m,{file:n}),(0,l.jsxs)(N,{className:"placeholder",sx:{"&:hover":{opacity:.72},...g&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>(0,L.Fq)(e.palette.grey[900],.64)},...x&&{color:"error.main",bgcolor:"error.lighter"}},children:[(0,l.jsx)(U.Z,{}),(0,l.jsx)(f.Z,{variant:"caption",children:n?"Update photo":"Upload photo"})]})]}),g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{size:"small",onClick:i,setval:13,children:(0,l.jsx)(A.Z,{})}),(0,l.jsx)(T,{size:"small",onClick:a,setval:.5,children:(0,l.jsx)(F.Z,{})})]})]}),o&&o]})}function _(e){let{name:t,formState:n,onRemove:r,onEdit:o,defaultValues:a,...c}=e;const d=(0,s.Gc)(),[h,p]=(0,i.useState)(!1),[g,x]=(0,i.useState)(!1),m=()=>{p(!0)},j=()=>{p(!1)},v=async e=>{d.setValue(t,e),o(!0),j()};(0,i.useEffect)((()=>{const e=d.getValues(t);a[t]||!e||g||d.formState.isSubmitSuccessful||(x(!0),m())}),[d,g,t,a]);const f=()=>{x(!1),r()};return(0,l.jsx)("div",{children:(0,l.jsx)(s.Qr,{name:t,control:d.control,render:e=>{let{field:t,fieldState:{error:r}}=e;return(0,l.jsxs)("div",{children:[h&&(0,l.jsx)(R,{open:h,handleClose:j,image:t.value,onUse:v}),(0,l.jsx)(Q,{accept:{"image/jpeg":".jpg, .jpeg","image/png":".png","image/webp":".webp"},error:!!r,file:t.value,onRemove:f,formState:n,onCrop:m,...c}),!!r&&(0,l.jsx)(u.Z,{error:!0,sx:{px:2,textAlign:"center"},children:(!n.isSubmitSuccessful||n.isDirty)&&r.message})]})}})})}},7499:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(6314),o=n(890),a=n(43),i=n(1087),s=n(2791),l=n(7659),c=n(8007),d=n(4695),h=n(1134),u=n(5193),p=n(3466),g=n(3400),x=n(9709),m=n(3735),j=n(697),v=n(4420),f=n(6341),b=n(279),w=n(184);const Z=()=>{const{isLoading:e}=(0,v.v9)((e=>e.auth)),t=(0,v.I0)(),[n,o]=(0,s.useState)(!1),Z=(0,s.useRef)(null),y=c.Ry().shape({email:c.Z_().required("Email Required").email("Invalid Email"),password:c.Z_().required("Password Required")}),C=(0,h.cI)({mode:"onChange",resolver:(0,d.X)(y),defaultValues:{email:"",password:""}}),{handleSubmit:k}=C,I=(0,u.Z)((e=>e.breakpoints.down("md")));return(0,w.jsxs)(b.ZP,{methods:C,onSubmit:k((async e=>{try{t((0,f.vx)({...e,recaptchaRef:Z}))}catch(n){console.log(n)}})),children:[(0,w.jsxs)(r.Z,{spacing:I?0:3,children:[(0,w.jsx)(b.au,{name:"email",label:"Email address"}),(0,w.jsx)(b.au,{name:"password",label:"Password",type:n?"text":"password",InputProps:{endAdornment:(0,w.jsx)(p.Z,{position:"end",children:(0,w.jsx)(g.Z,{onClick:()=>{o(!n)},children:n?(0,w.jsx)(m.Z,{}):(0,w.jsx)(j.Z,{})})})}})]}),(0,w.jsx)(r.Z,{alignItems:I?"center":"flex-end",sx:{my:2},children:(0,w.jsx)(a.Z,{to:"/auth/forgot-password",component:i.rU,variant:"body2",color:"inherit",underline:"hover",children:"Forgot Password?"})}),(0,w.jsx)(l.Z,{ref:Z,size:"invisible",sitekey:"6LeDXQQrAAAAACYSTac3Hh-doPiwRIC2fxIkQQ7u",theme:"dark"}),(0,w.jsx)(x.Z,{loading:e,fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mt:3,bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800"}},children:"Login"})]})};var y=n(602);const C=()=>(0,w.jsxs)(r.Z,{spacing:2,sx:{my:5,position:"realative"},children:[(0,w.jsxs)(r.Z,{justifyContent:"center",alignItems:"center",spacing:1,children:[(0,w.jsx)(o.Z,{component:"h1",variant:"h4",children:"Login to TwinkConnect"}),(0,w.jsxs)(r.Z,{direction:"row",spacing:.5,children:[(0,w.jsx)(o.Z,{variant:"body2",children:"New User?"}),(0,w.jsx)(a.Z,{to:"/auth/register",component:i.rU,variant:"subtitle2",children:"Create an account"})]})]}),(0,w.jsx)(Z,{}),(0,w.jsx)(y.Z,{})]})},602:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(4721),o=n(6314),a=n(3400),i=n(7804),s=n(6260),l=n(5872),c=n(4420),d=n(6341);const h=e=>{const t=e;return new Promise(((e,n)=>{const r=window.open(t,"_blank","width=600,height=600"),o=setInterval((()=>{if(!r||r.closed||void 0===r.closed)clearInterval(o),n(new Error("Popup closed before authorization"));else try{const t=new URLSearchParams(r.location.search),n=t.get("code");n&&(console.log(t),r.close(),clearInterval(o),e(n))}catch(t){}}),1e3)}))};var u=n(3026),p=n(9899),g=n(184);const x=()=>{const e=(0,c.I0)(),t=window.location.origin,n=t=>{e((0,p.aR)({severity:"error",message:"Unable to login using ".concat(t)}))},x=(0,l.Nq)({onSuccess:t=>{e((0,d.kZ)(t))},onError:e=>{n("google"),console.log(e)}});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.Z,{sx:{my:2.5,typography:"overline",color:"text.disabled"},children:"OR"}),(0,g.jsxs)(o.Z,{direction:"row",spacing:2,justifyContent:"center",children:[(0,g.jsx)(a.Z,{onClick:()=>x(),children:(0,g.jsx)(i.Z,{color:"#DF3E30"})}),(0,g.jsx)(a.Z,{color:"inherit",onClick:()=>(async()=>{try{const t=await h("https://github.com/login/oauth/authorize?client_id=".concat("Ov23liRgmLPydKvLPXCm","&scope=user"));e((0,d.nB)(t))}catch(t){n("github"),console.log("Github Error:",t.message)}})(),children:(0,g.jsx)(s.Z,{})}),(0,g.jsx)(a.Z,{onClick:()=>(async()=>{try{const n=await h("https://linkedin.com/oauth/v2/authorization?client_id=".concat("","&response_type=code&scope=email profile openid&redirect_uri=").concat(t,"/auth/login"));e((0,d.tJ)(n))}catch(r){n("linkedin"),console.log("Linkedin Error:",r.message)}})(),children:(0,g.jsx)(u.Z,{icon:"ri:linkedin-line",color:"#1C9CEA"})})]})]})}}}]);
//# sourceMappingURL=117.ffa69b7d.chunk.js.map