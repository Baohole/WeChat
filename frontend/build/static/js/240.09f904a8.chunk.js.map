{"version":3,"file":"static/js/240.09f904a8.chunk.js","mappings":"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","sources":["assets/Illustration/NoChat.js","components/PageComponents/GeneralAppPage/ChatsList.js","components/PageComponents/GeneralAppPage/ConversationElements/ConversationHeader.js","components/ChatMediaActions/FileMessage.js","components/PageComponents/GeneralAppPage/ConversationElements/ConvoSubElements/MessageContainer.js","components/PageComponents/GeneralAppPage/ConversationElements/ConversationMain.js","components/ChatMediaActions/actionClickHandler.js","components/ChatMediaActions/ImagePreview.js","components/ChatMediaActions/FilePreview.js","components/PageComponents/GeneralAppPage/ConversationElements/ConvoSubElements/ChatInput.js","components/PageComponents/GeneralAppPage/ConversationElements/ConversationFooter.js","components/PageComponents/GeneralAppPage/Conversation.js","pages/dashboard/GeneralApp.js"],"sourcesContent":["import { Box, useMediaQuery } from \"@mui/material\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { memo } from \"react\";\n\nconst NoChat = ({ ...other }) => {\n  const theme = useTheme();\n  const PRIMARY_MAIN = theme.palette.primary.main;\n  const PRIMARY_DARK = theme.palette.primary.dark;\n  const PRIMARY_LIGHT = theme.palette.primary.light;\n\n  // breakpoint\n  const isMediumScreen = useMediaQuery((theme) => theme.breakpoints.down(\"lg\"));\n  const isSmallScreen = useMediaQuery((theme) => theme.breakpoints.down(\"sm\"));\n\n  const responsiveDimension = () => {\n    if (isSmallScreen) {\n      return \"300\";\n    } else if (isMediumScreen) {\n      return \"530\";\n    } else {\n      return \"600\";\n    }\n  };\n\n  return (\n    <Box {...other} sx={{ mt: -20 }}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={responsiveDimension()}\n        height={responsiveDimension()}\n        fill=\"none\"\n        viewBox=\"0 0 1500 1500\"\n        id=\"male-freelancer-working-from-home\"\n      >\n        <rect\n          width=\"1356.29\"\n          height=\"804.786\"\n          x=\"107.244\"\n          y=\"435.15\"\n          fill=\"#F4F6FF10\"\n          opacity=\".9\"\n          rx=\"71.435\"\n        ></rect>\n        <path\n          fill=\"#A1AACD\"\n          d=\"M605.651 900.863H648.545L641.192 986.897C639.289 1009.16 639.289 1031.55 641.192 1053.81L648.545 1139.85H605.651L598.297 1053.81C596.394 1031.55 596.394 1009.16 598.297 986.897L605.651 900.863Z\"\n        ></path>\n        <path\n          fill=\"#BBC3E4\"\n          d=\"M589.309 900.863H615.862L612.799 1034.53V1139.85H589.309V1034.53L589.309 900.863Z\"\n        ></path>\n        <path\n          fill=\"#BBC3E4\"\n          d=\"M493.305 796.166C493.305 786.303 501.3 778.307 511.163 778.307H683.267V980.525H511.163C501.3 980.525 493.305 972.529 493.305 962.666V796.166zM703.693 1125.55H789.483V1149.56C789.483 1155.48 784.685 1160.27 778.767 1160.27H714.409C708.491 1160.27 703.693 1155.48 703.693 1149.56V1125.55z\"\n        ></path>\n        <path\n          fill={PRIMARY_MAIN}\n          d=\"M819.1 781.37L898.761 894.735H973.316L985.074 889.391C991.083 887.96 995.565 885.386 998.356 883.783C998.526 883.685 998.691 883.591 998.849 883.501L999.829 882.684L1007.02 879.415L1030.51 856.947L999.87 803.839L955.742 831.823L949.826 813.031L875.175 694.141C869.945 685.812 862.065 679.484 852.803 676.176L819.1 781.37Z\"\n        ></path>\n        <path\n          fill=\"#A1AACD\"\n          d=\"M703.693 1139.85H791.525V1145.98L703.693 1148.02V1139.85Z\"\n        ></path>\n        <path\n          fill=\"#969FC6\"\n          d=\"M1146.94 945.801H1193.92L1091.79 1239.94H1044.81L1146.94 945.801Z\"\n        ></path>\n        <path\n          fill=\"#969FC6\"\n          d=\"M1146.94 945.801H1193.92L1091.79 1239.94H1044.81L1146.94 945.801zM1257.23 945.801H1210.25L1312.38 1239.94H1359.36L1257.23 945.801z\"\n        ></path>\n        <path\n          fill=\"#969FC6\"\n          d=\"M1257.23 945.801H1210.25L1312.38 1239.94H1359.36L1257.23 945.801zM348.286 945.801H395.266L293.136 1239.94H246.156L348.286 945.801z\"\n        ></path>\n        <path\n          fill=\"#969FC6\"\n          d=\"M348.286 945.801H395.266L293.136 1239.94H246.156L348.286 945.801zM458.583 945.801H411.603L513.733 1239.94H560.713L458.583 945.801z\"\n        ></path>\n        <path\n          fill=\"#969FC6\"\n          d=\"M458.583 945.801H411.603L513.733 1239.94H560.713L458.583 945.801Z\"\n        ></path>\n        <path\n          fill=\"#A1AACD\"\n          d=\"M513.734 796.166C513.734 786.303 521.73 778.307 531.593 778.307H703.697V980.525H531.593C521.73 980.525 513.734 972.529 513.734 962.666V796.166Z\"\n        ></path>\n        <rect\n          width=\"108.258\"\n          height=\"34.724\"\n          x=\"1130.6\"\n          y=\"945.801\"\n          fill=\"#A1A9D0\"\n        ></rect>\n        <path\n          fill=\"#A1A9D0\"\n          d=\"M1130.6 945.801H1177.58L1077.49 1241.98H1030.51L1130.6 945.801Z\"\n        ></path>\n        <path\n          fill=\"#081B3C\"\n          d=\"M827.272 517.875C843.613 529.11 838.507 544.429 815.017 567.919L799.697 529.11L827.272 517.875Z\"\n        ></path>\n        <path\n          fill=\"#A1A9D0\"\n          d=\"M1240.9 945.801H1193.92L1296.05 1239.94H1343.03L1240.9 945.801Z\"\n        ></path>\n        <path\n          fill=\"#8E97C4\"\n          d=\"M1130.6 945.801H1240.9L1242.94 951.929L1126.51 958.056L1130.6 945.801Z\"\n        ></path>\n        <path\n          fill={PRIMARY_LIGHT}\n          d=\"M980.32 891.554C971.983 888.065 960.439 888.965 947.321 889.988 930.401 891.307 910.862 892.831 892.207 885.404L898.764 894.736H973.319L980.32 891.554zM881.4 870.225L852.804 782.393 848.719 825.288 881.4 870.225z\"\n        ></path>\n        <path\n          fill=\"#A1AACD\"\n          d=\"M717.992 1116.36C717.992 1103.39 728.509 1092.87 741.482 1092.87H966.169C979.142 1092.87 989.659 1103.39 989.659 1116.36V1116.36C989.659 1129.33 979.142 1139.85 966.169 1139.85H741.482C728.509 1139.85 717.992 1129.33 717.992 1116.36V1116.36Z\"\n        ></path>\n        <rect\n          width=\"228.772\"\n          height=\"46.98\"\n          x=\"538.242\"\n          y=\"1092.87\"\n          fill=\"#BBC3E4\"\n          rx=\"23.49\"\n        ></rect>\n        <path\n          fill=\"#000\"\n          d=\"M699.608 519.918C672.033 529.11 678.161 557.706 706.757 594.473L729.226 603.665C748.29 592.09 791.934 564.038 813.994 544.429C841.569 519.918 847.293 481.291 823.186 461.704C806.845 448.427 796.717 474.981 741.481 474.981C699.608 474.981 689.395 503.577 699.608 519.918Z\"\n        ></path>\n        <path\n          fill=\"#252E35\"\n          d=\"M843.619 968.27L654.678 974.397L837.491 1092.87H940.236C945.25 1092.87 949.593 1096.34 950.691 1101.24L982.516 1243H1090.77L1051.77 1039.04C1045.83 1007.97 1020.16 984.505 988.675 981.375L856.896 968.27H843.619Z\"\n        ></path>\n        <path\n          fill=\"#161D22\"\n          d=\"M950.854 1092.87L865.065 1018.31L856.895 1092.87H950.854Z\"\n        ></path>\n        <path\n          fill=\"#252E35\"\n          d=\"M633.203 1063.43L627.096 964.185L771.099 979.504L781.312 992.781L849.241 1010.44C869.988 1015.84 885.523 1033.08 888.732 1054.28L917.146 1241.98H801.738L783.992 1109.35C783.042 1102.25 776.989 1096.95 769.831 1096.95H668.853C649.979 1096.95 634.362 1082.27 633.203 1063.43Z\"\n        ></path>\n        <path\n          fill=\"#161D22\"\n          d=\"M629.138 996.866L627.096 969.291L789.483 975.418C763.95 989.717 636.287 996.866 629.138 996.866Z\"\n        ></path>\n        <path\n          fill={PRIMARY_MAIN}\n          d=\"M750.674 654.73L657.736 665.964C656.271 670.115 639.812 723.639 624.033 838.564C624.033 838.564 621.99 980.525 624.033 980.525C671.013 980.525 855.868 974.398 855.868 969.291L849.741 930.482L855.868 677.199L802.761 661.879L750.674 654.73Z\"\n        ></path>\n        <path\n          fill={PRIMARY_LIGHT}\n          d=\"M628.113 756.86L616.879 922.311L704.711 898.821L652.181 839.841C648.587 835.805 647.013 830.358 647.902 825.027L664.88 723.157L628.113 756.86Z\"\n        ></path>\n        <path\n          fill={PRIMARY_MAIN}\n          d=\"M647.801 666.711L658.753 665.964L675.094 700.688L605.645 905.97H574.065C548.956 905.97 531.684 880.745 540.766 857.335L601.496 700.786C609.014 681.407 627.062 668.125 647.801 666.711Z\"\n        ></path>\n        <path\n          fill=\"#FE826D\"\n          d=\"M799.699 875.33C797.656 887.586 782.337 896.778 752.719 893.714L760.889 873.288L794.592 864.096L799.699 875.33Z\"\n        ></path>\n        <path\n          fill={PRIMARY_DARK}\n          d=\"M705.746 657.794H720.032C732.968 663.241 758.433 678.424 756.799 695.582C754.756 717.029 711.861 729.285 702.67 717.029C695.674 707.701 699.216 680.995 702.215 660.831C702.476 659.082 703.977 657.794 705.746 657.794Z\"\n        ></path>\n        <path\n          fill={PRIMARY_DARK}\n          d=\"M795.884 658.56L787.515 657.794C774.579 663.241 749.114 678.424 750.749 695.582C752.791 717.029 795.686 727.242 804.878 714.987C811.903 705.619 802.638 681.521 799.126 661.577C798.841 659.956 797.522 658.71 795.884 658.56Z\"\n        ></path>\n        <path\n          fill=\"#FFC4A6\"\n          d=\"M719.016 592.429L759.146 584.259H799.699L790.931 678.219L790.57 678.722C772.562 703.839 736.088 706.234 714.95 683.686V683.686C711.696 680.215 710.116 675.498 710.623 670.767L719.016 592.429Z\"\n        ></path>\n        <path\n          fill=\"#FE826D\"\n          d=\"M792.545 664.942L794.587 639.41L746.586 640.431C750.671 664.942 778.927 664.602 792.545 664.942Z\"\n        ></path>\n        <path\n          stroke=\"#0F2649\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\".893\"\n          d=\"M829.316 577.111H817.061\"\n        ></path>\n        <path\n          fill=\"#FFC4A6\"\n          d=\"M724.118 570.983C733.948 567.297 740.459 557.901 740.459 547.403V535.238L756.696 539.49C774.156 544.063 792.516 543.927 809.906 539.096L820.121 536.259V621.357C820.121 630.309 814.393 638.256 805.901 641.087 789.068 646.697 771.143 648.228 753.603 645.552L720.033 640.432V588.345L724.118 570.983zM698.59 904.949L701.654 854.905H721.058L761.707 830.363C770.508 825.049 780.654 822.345 790.914 823.001 811.919 824.343 838.917 826.952 851.938 828.552 855.404 828.978 858.147 832.258 855.947 834.97 849.29 843.174 827.335 842.936 815.018 842.649L821.146 844.692C826.253 851.841 838.713 869.816 847.7 884.523 838.713 895.144 822.848 876.693 816.04 866.139 816.04 870.224 823.189 898.821 820.125 900.863 814.406 904.132 809.571 900.863 807.869 898.821 807.869 900.863 807.052 904.949 803.784 904.949 798.882 904.949 796.294 902.225 795.614 900.863L788.464 876.352C788.124 876.012 785.605 875.331 778.251 875.331 755.783 904.949 719.016 906.651 698.59 904.949z\"\n        ></path>\n        <path\n          fill=\"#FE826D\"\n          d=\"M716.97 854.905L706.757 853.884L700.629 905.97H717.991L716.97 854.905Z\"\n        ></path>\n        <path\n          fill={PRIMARY_MAIN}\n          d=\"M658.755 665.964L652.688 666.378C628.969 667.995 608.325 683.186 599.727 705.351L543.48 850.343C533.093 877.118 552.847 905.97 581.567 905.97H587.264L706.756 908.013L713.905 846.735L627.46 841.495L675.096 700.688L658.755 665.964Z\"\n        ></path>\n        <path\n          fill={PRIMARY_LIGHT}\n          d=\"M970.255 882.48L952.893 838.564L1003.96 830.393L1021.32 866.139L1007.93 875.512C996.973 883.182 983.229 885.723 970.255 882.48Z\"\n        ></path>\n        <path\n          fill=\"#FE826D\"\n          d=\"M973.314 880.437C975.356 881.118 992.719 877.374 1001.91 873.288L995.783 841.628L959.016 845.713L970.25 882.48L973.314 880.437Z\"\n        ></path>\n        <path\n          fill=\"#FFC4A6\"\n          d=\"M1020.3 873.288C1019.28 876.352 1018.26 881.459 1008.05 881.459L1003.96 861.033L988.641 834.479L1040.73 831.415L1043.25 849.084C1043.6 851.497 1042.93 853.941 1041.59 855.978C1038.26 861.044 1034.55 867.874 1032.56 869.203C1030.11 870.837 1026.77 870.905 1026.43 870.225C1025.75 871.586 1024.39 874.105 1020.3 873.288Z\"\n        ></path>\n        <path\n          fill=\"#FFC4A6\"\n          d=\"M970.254 883.502C960.45 882.685 952.552 850.48 949.828 834.479L998.851 832.437C1002.25 835.841 1010.29 852.863 1011.11 856.948C1012.13 862.055 1011.11 865.118 1011.11 880.438C1011.11 895.758 1008.66 895.554 1002.94 894.736C995.787 893.715 995.787 865.118 995.787 863.076C995.787 861.033 980.271 846.353 975.361 847.756C968.212 849.799 972.297 855.927 973.318 862.055C974.339 868.182 982.51 884.523 970.254 883.502Z\"\n        ></path>\n        <path\n          fill=\"#C1BFCF\"\n          d=\"M909.927 562.927C911.139 554.084 918.694 547.492 927.621 547.492H1310.3C1321.13 547.492 1329.47 557.049 1328 567.775L1292.04 830.278C1290.83 839.122 1283.27 845.713 1274.34 845.713H891.661C880.835 845.713 872.499 836.157 873.968 825.43L909.927 562.927Z\"\n        ></path>\n        <path\n          fill={PRIMARY_LIGHT}\n          d=\"M658.757 672.092C608.713 678.22 601.076 713.366 583.691 746.693L599.729 705.352C608.327 683.186 628.971 667.995 652.69 666.378L658.757 665.964L701.652 660.347H708.801L701.652 667.496L658.757 672.092Z\"\n        ></path>\n        <path\n          stroke=\"#FE826D\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M1030.51 842.649L1033.79 850.843C1034.31 852.138 1034.3 853.584 1033.77 854.873L1027.45 870.224\"\n        ></path>\n        <path\n          fill=\"#fff\"\n          d=\"M920.138 562.927C921.35 554.084 928.905 547.492 937.832 547.492H1320.51C1331.34 547.492 1339.68 557.049 1338.21 567.775L1302.25 830.278C1301.04 839.122 1293.48 845.713 1284.56 845.713H901.872C891.046 845.713 882.709 836.157 884.179 825.43L920.138 562.927Z\"\n        ></path>\n        <rect\n          width=\"1141.82\"\n          height=\"30.639\"\n          x=\"217.555\"\n          y=\"915.161\"\n          fill=\"#BBC3E4\"\n          rx=\"15.319\"\n        ></rect>\n        <path\n          fill=\"#AFB8DE\"\n          d=\"M217.555 939.673C217.555 936.289 220.298 933.545 223.682 933.545H1359.37V933.545C1359.37 940.314 1353.88 945.801 1347.12 945.801H223.683C220.298 945.801 217.555 943.058 217.555 939.673V939.673Z\"\n        ></path>\n        <rect\n          width=\"339.072\"\n          height=\"30.639\"\n          x=\"217.555\"\n          y=\"915.161\"\n          fill=\"#A7B0D7\"\n          rx=\"15.319\"\n        ></rect>\n        <rect\n          width=\"108.258\"\n          height=\"34.724\"\n          x=\"333.984\"\n          y=\"945.801\"\n          fill=\"#A1A9D0\"\n        ></rect>\n        <path\n          fill=\"#A1A9D0\"\n          d=\"M333.98 945.801H380.96L278.83 1239.94H231.85L333.98 945.801zM444.282 945.801H397.302L499.432 1239.94H546.412L444.282 945.801z\"\n        ></path>\n        <path\n          fill=\"#8E97C4\"\n          d=\"M333.984 945.801H444.284L446.327 951.929L329.898 958.056L333.984 945.801Z\"\n        ></path>\n        <path\n          fill=\"#fff\"\n          d=\"M834.422 915.161C834.422 903.88 843.567 894.735 854.848 894.735H1097.92V915.161H834.422V915.161Z\"\n        ></path>\n        <path\n          fill=\"#E7E6EC\"\n          d=\"M942.684 894.735H1118.35V915.161H942.684V894.735Z\"\n        ></path>\n        <path\n          fill=\"#fff\"\n          d=\"M1164.3 732.349H1058.09L1115.58 884.996C1116.7 887.973 1116.64 891.265 1115.42 894.201C1113.48 898.854 1108.93 901.886 1103.89 901.886H1042.77C1035.44 901.886 1029.49 907.83 1029.49 915.163H1217.84C1224.94 915.163 1230.69 909.409 1230.69 902.312C1230.69 897.31 1229.72 892.355 1227.82 887.724L1164.3 732.349Z\"\n        ></path>\n        <path\n          stroke=\"#C1BFCF\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M1164.3 732.349L1227.82 887.724C1229.71 892.355 1230.68 897.31 1230.68 902.312V902.312C1230.68 909.409 1224.93 915.163 1217.83 915.163H1130.08\"\n        ></path>\n        <path\n          fill=\"#E7E6EC\"\n          d=\"M1006.41 840.596L1057.87 733.37L1099.96 845.713H1009.63C1007 845.713 1005.27 842.967 1006.41 840.596Z\"\n        ></path>\n        <path\n          stroke=\"#C1BFCF\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"3.572\"\n          d=\"M1058.09 732.349L1115.58 884.996C1116.7 887.973 1116.64 891.265 1115.42 894.201V894.201C1113.48 898.854 1108.93 901.886 1103.89 901.886H1042.77C1035.44 901.886 1029.49 907.83 1029.49 915.163V915.163\"\n        ></path>\n        <rect\n          width=\"73.423\"\n          height=\"77.619\"\n          x=\"447.982\"\n          y=\"837.543\"\n          fill=\"#fff\"\n          rx=\"9.048\"\n        ></rect>\n        <circle\n          cx=\"447.143\"\n          cy=\"873.764\"\n          r=\"19.617\"\n          stroke=\"#fff\"\n          strokeWidth=\"7.337\"\n        ></circle>\n        <path\n          stroke=\"#FE826D\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M1020.3 848.776L1023.5 854.534C1024.72 856.722 1024.96 859.32 1024.17 861.695L1020.3 873.288M1004.98 847.756L1011.16 856.257C1012.45 858.018 1013.04 860.187 1012.83 862.355L1011.11 880.438\"\n        ></path>\n        <rect\n          width=\"30.639\"\n          height=\"79.662\"\n          x=\"734.334\"\n          y=\"1160.27\"\n          fill=\"#BBC3E4\"\n        ></rect>\n        <path\n          fill=\"#A1AACD\"\n          d=\"M734.334 1160.27H764.973V1166.4L734.334 1168.44V1160.27Z\"\n        ></path>\n        <path\n          stroke=\"#0F2649\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\".893\"\n          d=\"M742.777 577.111H712.888C704.991 577.111 698.589 583.512 698.589 591.409V591.409\"\n        ></path>\n        <circle cx=\"711.867\" cy=\"592.43\" r=\"20.426\" fill=\"#FFC4A6\"></circle>\n        <path\n          stroke=\"#0F2649\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\".893\"\n          d=\"M783.357 576.089H789.485\"\n        ></path>\n        <path\n          stroke=\"#FE826D\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M706.76 584.259L719.015 598.557M704.715 595.494L713.907 592.43\"\n        ></path>\n        <circle cx=\"761.91\" cy=\"577.111\" r=\"3.064\" fill=\"#460908\"></circle>\n        <circle cx=\"806.845\" cy=\"577.111\" r=\"3.064\" fill=\"#460908\"></circle>\n        <path\n          stroke=\"#460908\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M754.758 565.876C758.259 563.425 762.636 561.791 767.013 561.791M813.996 565.876C810.494 563.425 806.117 561.791 801.74 561.791\"\n        ></path>\n        <path\n          stroke=\"#FD8981\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M787.445 581.196L793.342 598.886C794.011 600.895 792.796 603.043 790.728 603.502L785.402 604.686\"\n        ></path>\n        <circle\n          cx=\"762.93\"\n          cy=\"576.09\"\n          r=\"20.426\"\n          fill=\"#E0F2F7\"\n          opacity=\".2\"\n        ></circle>\n        <path\n          stroke=\"#F37269\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M773.146 616.942C776.077 624.043 787.8 627.593 795.615 623.155\"\n        ></path>\n        <rect\n          width=\"124.599\"\n          height=\"87.049\"\n          x=\"883.441\"\n          y=\"403\"\n          fill=\"#B6DCD9\"\n          rx=\"10.446\"\n        ></rect>\n        <circle\n          cx=\"809.908\"\n          cy=\"576.09\"\n          r=\"20.426\"\n          fill=\"#E0F2F7\"\n          opacity=\".2\"\n        ></circle>\n        <path\n          fill=\"#B6DCD9\"\n          d=\"M929.527 484.713C929.527 483.889 930.195 483.221 931.02 483.221H962.706C964.129 483.221 964.745 485.024 963.618 485.894L931.932 510.379C930.951 511.137 929.527 510.437 929.527 509.198V484.713Z\"\n        ></path>\n        <circle\n          cx=\"809.908\"\n          cy=\"576.09\"\n          r=\"19.98\"\n          stroke=\"#0F2649\"\n          strokeWidth=\".893\"\n        ></circle>\n        <circle\n          cx=\"762.93\"\n          cy=\"576.09\"\n          r=\"19.98\"\n          stroke=\"#0F2649\"\n          strokeWidth=\".893\"\n        ></circle>\n        <path\n          stroke={PRIMARY_DARK}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M753.74 713.964L751.697 772.179\"\n        ></path>\n        <circle cx=\"746.589\" cy=\"733.37\" r=\"4.085\" fill={PRIMARY_DARK}></circle>\n        <circle\n          cx=\"744.548\"\n          cy=\"759.924\"\n          r=\"4.085\"\n          fill={PRIMARY_DARK}\n        ></circle>\n        <circle cx=\"1144.9\" cy=\"796.691\" r=\"18.383\" fill=\"#C1BFCF\"></circle>\n        <path\n          fill=\"#fff\"\n          d=\"M1141.83 814.82C1150.53 813.361 1157.15 805.799 1157.15 796.691C1157.15 787.582 1150.53 780.02 1141.83 778.561C1133.14 780.02 1126.51 787.582 1126.51 796.691C1126.51 805.799 1133.14 813.361 1141.83 814.82Z\"\n        ></path>\n        <path\n          stroke=\"#fff\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"2.985\"\n          d=\"M897.096 428.601H992.678M897.096 450.791H944.887\"\n        ></path>\n        <path\n          stroke=\"#FE826D\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M780.293 854.905L795.652 860.025C799.4 861.274 802.157 864.485 802.825 868.38L807.868 897.8M767.014 872.268L786.219 875.011C787.587 875.207 788.721 876.175 789.127 877.497L796.631 901.885M791.527 845.713L806.886 850.833C810.635 852.083 813.391 855.294 814.059 859.188L819.103 888.608M806.844 840.606L818.217 843.639C820.759 844.317 822.962 845.906 824.408 848.103L847.696 883.501\"\n        ></path>\n        <path\n          fill=\"#D2DBFC\"\n          d=\"M44.9558 1033.63C162.772 1093.55 196.451 1057.4 214.734 1070.6 167.845 990.061 87.1474 1002.37 44.7367 1023.83 40.6594 1025.89 40.8826 1031.56 44.9558 1033.63zM142.785 743.559C141.339 858.84 202.837 998.098 229.225 1057.06 217.901 864.277 204.274 787.373 151.912 739.523 148.357 736.274 142.845 738.744 142.785 743.559zM337.809 736.216C349.225 837.098 272.496 937.419 236.04 1054.8 217.39 927.039 294.402 783.953 331.289 734.392 333.319 731.665 337.427 732.839 337.809 736.216zM395.634 993.69C353.241 1071.36 293.597 1091.76 247.973 1110.1 273.435 1019.17 349.891 1004.09 390.068 987.815 393.64 986.368 397.481 990.307 395.634 993.69z\"\n        ></path>\n        <path\n          stroke=\"#A8B8EF\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.973\"\n          d=\"M90.2988 1022.08C258.197 1029.98 231.777 1127.03 236.038 1241M236.044 1233.1C222.407 1083.02 265.021 1069.47 359.624 1011.92M161.045 779.456C184.056 848.293 236.897 991.609 233.488 1230.85\"\n        ></path>\n        <path\n          stroke=\"#A8B8EF\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.973\"\n          d=\"M319.565 778.326C242.008 944.212 240.304 982.581 234.338 1173.29V1236.49\"\n        ></path>\n        <path\n          stroke=\"#9F9CC5\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M765.992 1000.95L855.383 1013.61C870.859 1015.8 883.112 1027.8 885.628 1043.23L912.038 1205.21\"\n        ></path>\n        <circle\n          cx=\"26.554\"\n          cy=\"26.554\"\n          r=\"26.554\"\n          fill=\"#E7E6EC\"\n          transform=\"matrix(1 0 -.1073 .99423 1097.91 641.452)\"\n        ></circle>\n        <path\n          fill=\"#E7E6EC\"\n          d=\"M450.035 910.997C451.922 913.526 454.937 915.163 458.334 915.163H511.059C516.775 915.163 521.409 910.529 521.409 904.813V860.412C515.517 898.148 491.325 906.797 450.035 910.997Z\"\n        ></path>\n        <path\n          fill={PRIMARY_LIGHT}\n          d=\"M604.039 906.257C596.968 900.292 581.867 900.314 569.902 891.672C548.893 876.5 559.689 867.161 555.131 834.59C555.146 829.861 555.16 825.513 554.558 821.788L543.48 850.344C533.093 877.119 552.847 905.971 581.567 905.971H587.264L604.039 906.257Z\"\n        ></path>\n        <path\n          stroke={PRIMARY_DARK}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.786\"\n          d=\"M802.764 768.094H832.381\"\n        ></path>\n      </svg>\n    </Box>\n  );\n};\n\nexport default memo(NoChat);\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Stack, Typography, Divider, useTheme } from \"@mui/material\";\nimport { MagnifyingGlass } from \"phosphor-react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SearchFriends } from \"../../../redux/slices/actions/userActions\";\nimport { ClearSearch } from \"../../../redux/slices/userSlice\";\n\nimport { MembersList } from \"../../../data\";\nimport { Search, SearchIconWrapper, StyledInputBase } from \"../../Search\";\nimport AllChatElement from \"./ChatElements/AllChatElement\";\nimport ChatSearchResults from \"./ChatElements/ChatSearchResults\";\nimport { getOtherUser } from \"../../../utils/getOtherUser\";\nimport OnlineFriendsElement from \"../OnlineFriendsElement/OnlineFriendsElement\";\n\nconst ChatsList = () => {\n  // using theme\n  const theme = useTheme();\n\n  // from redux\n  const dispatch = useDispatch();\n  const { user, onlineFriends, searchResults, searchCount, isLoading } =\n    useSelector((state) => state.user);\n  const { conversations, activeConversation } = useSelector(\n    (state) => state.chat\n  );\n\n  // states\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [prevSearchTerm, setPrevSearchTerm] = useState(\"\");\n  const [usersFound, setUsersFound] = useState([]);\n  const [page, setPage] = useState(1);\n\n  // -------------- inner functions --------------\n  // function to handle searched term\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n    setPage(1);\n  };\n\n  // using debounce method to dispatch action after search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (searchTerm !== \"\") {\n        const searchData = { keyword: searchTerm, page: 0 };\n        dispatch(SearchFriends(searchData));\n      } else {\n        dispatch(ClearSearch());\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [dispatch, searchTerm]);\n\n  // function to handle page change\n  const handleSearchPageChange = () => {\n    // Increment the page count and dispatch SearchFriends with the new page\n    setPage((prevpage) => prevpage + 1);\n    const searchData = { keyword: searchTerm, page: page };\n    dispatch(SearchFriends(searchData));\n  };\n\n  // After the searchResults are updated, set them to usersFound\n  useEffect(() => {\n    if (searchResults?.length > 0) {\n      if (\n        prevSearchTerm === searchTerm &&\n        JSON.stringify(usersFound) !== JSON.stringify(searchResults) &&\n        usersFound\n      ) {\n        setUsersFound((prevUsersFound) => [\n          ...prevUsersFound,\n          ...searchResults,\n        ]);\n      } else {\n        setUsersFound(searchResults);\n      }\n    } else if (searchResults === null) {\n      setUsersFound(null);\n    } else {\n      setUsersFound([]);\n    }\n\n    // Update prevSearchTerm\n    setPrevSearchTerm(searchTerm);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchResults]);\n\n  // --------------------------------------------\n\n  return (\n    <Stack p={3} spacing={2} sx={{ height: \"100%\" }}>\n      <Typography component={\"h1\"} variant=\"h5\">\n        Chats\n      </Typography>\n\n      {/* Search section */}\n      <Stack sx={{ width: \"100%\" }}>\n        <Search>\n          <SearchIconWrapper>\n            <MagnifyingGlass color={theme.palette.primary.main} />\n          </SearchIconWrapper>\n          <StyledInputBase\n            placeholder=\"Search...\"\n            inputProps={{ \"aria-label\": \"search\" }}\n            onChange={(e) => handleSearch(e)}\n          />\n        </Search>\n      </Stack>\n\n      {!searchTerm ? (\n        <>\n          {/* Online Friends Slider */}\n          <OnlineFriendsElement />\n\n          <Divider />\n\n          <Typography\n            component={\"h2\"}\n            variant=\"subtitle2\"\n            sx={{ color: \"#676767\" }}\n          >\n            Recent Chats\n          </Typography>\n\n          {/* Chats setion starts here */}\n          <Stack\n            direction={\"column\"}\n            sx={{\n              flexGrow: 1,\n              overflow: \"scroll\",\n              height: \"100%\",\n              overflowY: \"auto\",\n              overflowX: \"hidden\",\n            }}\n            spacing={2}\n            className=\"scrollbar\"\n          >\n            {/* All Chats */}\n            <Stack spacing={2.4}>\n              {/* loding skeleton */}\n              {isLoading\n                ? MembersList.map((e) => {\n                  return (\n                    <AllChatElement\n                      key={e._id}\n                      {...e}\n                      isLoading={isLoading}\n                    />\n                  );\n                })\n                : conversations\n                  .filter(\n                    (e) =>\n                      (e.latestMessage?.message || e.latestMessage?.files.length > 0) ||\n                      e._id === activeConversation?._id\n                  )\n                  .map((conversation) => {\n                    const { users } = conversation;\n\n                    const chatElementProps = getOtherUser(\n                      users,\n                      user._id,\n                      onlineFriends\n                    );\n\n                    return (\n                      chatElementProps && (\n                        <AllChatElement\n                          key={conversation._id}\n                          convo_id={conversation._id}\n                          latestMessage={conversation.latestMessage}\n                          {...chatElementProps}\n                          isLoading={isLoading}\n                        />\n                      )\n                    );\n                  })}\n            </Stack>\n          </Stack>\n        </>\n      ) : (\n        // Search Results\n        <Fragment>\n          <Divider />\n\n          <Typography variant=\"subtitle2\" sx={{ color: \"#676767\" }}>\n            Search Result{searchCount > 0 && `: ${searchCount}`}\n          </Typography>\n\n          <ChatSearchResults\n            isLoading={isLoading}\n            searchResults={usersFound}\n            searchCount={searchCount}\n            currentPage={page}\n            onSearchPageChange={handleSearchPageChange}\n            currentUser={user._id}\n            activeConversation={activeConversation}\n          />\n        </Fragment>\n      )}\n    </Stack>\n  );\n};\n\nexport default ChatsList;\n","import {\n  Box,\n  Stack,\n  useTheme,\n  Typography,\n  IconButton,\n  Divider,\n} from \"@mui/material\";\n\nimport { VideoCamera, Phone, XCircle } from \"phosphor-react\";\n\n// redux imports\nimport { useDispatch } from \"react-redux\";\nimport { closeActiveConversation } from \"../../../../redux/slices/chatSlice\";\n\nimport getAvatar from \"../../../../utils/createAvatar\";\nimport StyledBadge from \"../../../StyledBadge\";\n\nconst ConversationHeader = ({ otherUser }) => {\n  const theme = useTheme();\n\n  const dispatch = useDispatch();\n  return (\n    <Box\n      p={2}\n      width={\"100%\"}\n      sx={{\n        position: \"sticky\",\n        backgroundColor: theme.palette.background.default,\n        boxShadow: \"0px 0px 2px rgba(0, 0, 0, 0.25)\",\n      }}\n    >\n      {/* main stack */}\n      <Stack\n        direction={\"row\"}\n        justifyContent={\"space-between\"}\n        alignItems={\"center\"}\n      >\n        {/* avatar and name */}\n        <Stack\n          direction={\"row\"}\n          justifyContent={\"center\"}\n          alignItems={\"center\"}\n          spacing={2}\n        >\n          {otherUser?.onlineStatus === \"online\" ? (\n            <StyledBadge\n              overlap=\"circular\"\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              variant=\"dot\"\n            >\n              {getAvatar(otherUser?.avatar, otherUser?.firstName, theme)}\n            </StyledBadge>\n          ) : (\n            getAvatar(otherUser?.avatar, otherUser?.firstName, theme)\n          )}\n\n          <Stack spacing={0.2}>\n            <Typography variant=\"subtitle2\">{`${otherUser?.firstName} ${otherUser?.lastName}`}</Typography>\n            <Typography variant=\"caption\" sx={{ textTransform: \"capitalize\" }}>\n              {otherUser?.onlineStatus}\n            </Typography>\n          </Stack>\n        </Stack>\n        {/* header actions */}\n        <Stack\n          direction={\"row\"}\n          justifyContent={\"center\"}\n          alignItems={\"center\"}\n          spacing={1}\n        >\n          {/* video call action */}\n          <IconButton>\n            <VideoCamera />\n          </IconButton>\n\n          {/* voice call action */}\n          <IconButton>\n            <Phone />\n          </IconButton>\n\n          <Divider orientation=\"vertical\" flexItem />\n          {/* search action */}\n          <IconButton\n            onClick={() => {\n              dispatch(closeActiveConversation());\n            }}\n          >\n            <XCircle />\n          </IconButton>\n        </Stack>\n      </Stack>\n    </Box>\n  );\n};\nexport default ConversationHeader;\n","import { Box, Paper, Stack, Typography, IconButton } from \"@mui/material\";\r\nimport {\r\n    File,\r\n    FilePdf,\r\n    FileDoc,\r\n    FileXls,\r\n    FileText,\r\n    FileZip,\r\n    FileImage,\r\n    DownloadSimple\r\n} from \"phosphor-react\";\r\n\r\n// Function to get file icon based on mime type or extension\r\nconst getFileIcon = (fileUrl) => {\r\n    const extension = fileUrl.split('.').pop()?.toLowerCase();\r\n\r\n    // Common document extensions\r\n    if (extension === 'pdf') {\r\n        return <FilePdf size={24} weight=\"fill\" />;\r\n    } else if (['doc', 'docx'].includes(extension)) {\r\n        return <FileDoc size={24} weight=\"fill\" />;\r\n    } else if (['xls', 'xlsx', 'csv'].includes(extension)) {\r\n        return <FileXls size={24} weight=\"fill\" />;\r\n    } else if (['txt', 'json', 'xml'].includes(extension)) {\r\n        return <FileText size={24} weight=\"fill\" />;\r\n    } else if (['zip', 'rar', '7z'].includes(extension)) {\r\n        return <FileZip size={24} weight=\"fill\" />;\r\n    } else if (['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(extension)) {\r\n        return <FileImage size={24} weight=\"fill\" />;\r\n    } else {\r\n        return <File size={24} weight=\"fill\" />;\r\n    }\r\n};\r\n\r\n// Function to get color based on file type\r\nconst getFileColor = (fileUrl, theme) => {\r\n    const extension = fileUrl.split('.').pop()?.toLowerCase();\r\n\r\n    if (extension === 'pdf') {\r\n        return theme.palette.error.main;\r\n    } else if (['doc', 'docx'].includes(extension)) {\r\n        return theme.palette.primary.main;\r\n    } else if (['xls', 'xlsx', 'csv'].includes(extension)) {\r\n        return theme.palette.success.main;\r\n    } else if (['zip', 'rar', '7z'].includes(extension)) {\r\n        return theme.palette.warning.main;\r\n    } else {\r\n        return theme.palette.info.main;\r\n    }\r\n};\r\n\r\n// Function to get formatted file name\r\nconst getFileName = (fileUrl) => {\r\n    try {\r\n        // Extract filename from URL\r\n        const fileName = decodeURIComponent(fileUrl.split('/').pop());\r\n        // Remove any query parameters\r\n        return fileName.split('?')[0];\r\n    } catch (error) {\r\n        return \"File\";\r\n    }\r\n};\r\n\r\nconst FileMessage = ({ file, theme, isMe = false }) => {\r\n    const fileName = getFileName(file);\r\n    const fileIcon = getFileIcon(file);\r\n    const fileColor = getFileColor(file, theme);\r\n\r\n    // Handle file download\r\n    const handleDownload = () => {\r\n        const link = document.createElement('a');\r\n        link.href = file;\r\n        link.setAttribute('download', fileName);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    return (\r\n        <Paper\r\n            elevation={0}\r\n            sx={{\r\n                p: 1.5,\r\n                borderRadius: 1,\r\n                backgroundColor: isMe ? 'rgba(0, 0, 0, 0.04)' : 'white',\r\n                border: `1px solid ${theme.palette.divider}`,\r\n                width: '100%',\r\n                maxWidth: 280,\r\n            }}\r\n        >\r\n            <Stack direction=\"row\" spacing={1.5} alignItems=\"center\">\r\n                <Box sx={{ color: fileColor }}>\r\n                    {fileIcon}\r\n                </Box>\r\n                <Stack sx={{ flex: 1, minWidth: 0 }}>\r\n                    <Typography variant=\"body2\" fontWeight=\"medium\" noWrap>\r\n                        {fileName}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        {fileName.split('.').pop()?.toUpperCase() || 'FILE'}\r\n                    </Typography>\r\n                </Stack>\r\n                <IconButton\r\n                    size=\"small\"\r\n                    onClick={handleDownload}\r\n                    sx={{\r\n                        color: theme.palette.primary.main,\r\n                        '&:hover': {\r\n                            backgroundColor: 'rgba(0, 0, 0, 0.08)',\r\n                        }\r\n                    }}\r\n                >\r\n                    <DownloadSimple weight=\"fill\" />\r\n                </IconButton>\r\n            </Stack>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default FileMessage; ","import { Stack, Box, useTheme, Typography, ImageList, ImageListItem } from \"@mui/material\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\n\nimport getAvatar from \"../../../../../utils/createAvatar\";\nimport FileMessage from \"../../../../ChatMediaActions/FileMessage\";\n\nconst MessageContainer = ({\n  message,\n  me,\n  isStartOfSequence,\n  isEndOfSequence,\n  msgType,\n  isLastMessage,\n  isTyping,\n}) => {\n  const theme = useTheme();\n\n  let borderRadiusStyle;\n\n  if (isStartOfSequence && isEndOfSequence) {\n    borderRadiusStyle = \"20px\";\n  } else if (me && isStartOfSequence) {\n    borderRadiusStyle = \"20px 20px 5px 20px\";\n  } else if (me && isEndOfSequence) {\n    borderRadiusStyle = \"20px 5px 20px 20px\";\n  } else if (me) {\n    borderRadiusStyle = \"20px 5px 5px 20px\";\n  } else if (!me && isStartOfSequence) {\n    borderRadiusStyle = \"20px 20px 20px 5px\";\n  } else if (!me && isEndOfSequence) {\n    borderRadiusStyle = \"5px 20px 20px 20px\";\n  } else {\n    borderRadiusStyle = \"5px 20px 20px 5px\";\n  }\n\n  // Check if message has images or documents\n  const files = message.files.map(f => f.url)\n  // console.log(\"files\", files)\n  const hasImages = files && files.filter(f => {\n    const ext = f.split('.').pop()?.toLowerCase();\n    return ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext);\n  }).length > 0;\n\n  const hasDocuments = files && files.filter(f => {\n    const ext = f.split('.').pop()?.toLowerCase();\n    return !['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext);\n  }).length > 0;\n\n  // Filter images and documents\n  const images = files?.filter(f => {\n    const ext = f.split('.').pop()?.toLowerCase();\n    return ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext);\n  }) || [];\n\n  const documents = files?.filter(f => {\n    const ext = f.split('.').pop()?.toLowerCase();\n    return !['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext);\n  }) || [];\n\n  // Adjust padding based on message type and content\n  const commonPadding = msgType === \"text\" ? (hasImages || hasDocuments ? 1 : 1.5) : \"3px 0px\";\n\n  return (\n    <Stack\n      direction=\"row\"\n      justifyContent={me ? \"flex-end\" : \"flex-start\"}\n      alignItems=\"center\"\n      sx={{ position: \"relative\" }}\n    >\n      {!me && isEndOfSequence && !isTyping && (\n        <Box\n          sx={{\n            position: \"absolute\",\n            top: msgType === \"text\" ? 10 : 18,\n            left: -25,\n          }}\n        >\n          {getAvatar(\n            message?.sender?.avatar,\n            message?.sender?.firstName,\n            theme,\n            20\n          )}\n        </Box>\n      )}\n      <Box\n        p={commonPadding}\n        sx={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          width: \"max-content\",\n          minWidth: 40,\n          maxWidth: { xs: \"12em\", md: \"30em\" },\n          minHeight: 40,\n          backgroundColor:\n            msgType === \"text\"\n              ? me\n                ? theme.palette.primary.main\n                : theme.palette.background.default\n              : msgType === \"emoji\"\n                ? \"\"\n                : theme.palette.background.default,\n          borderRadius: borderRadiusStyle,\n        }}\n      >\n        {msgType === \"typing\" && isTyping ? (\n          <BeatLoader\n            size={5}\n            height={0.5}\n            width={1}\n            color={theme.palette.primary.main}\n            speedMultiplier={0.5}\n            margin={2}\n          />\n        ) : (\n          <>\n            {message.message && message.message.trim() !== \"\" && (\n              <Typography\n                variant={msgType === \"text\" ? \"body2\" : \"h3\"}\n                color={me ? \"#fff\" : theme.palette.text}\n                sx={{ whiteSpace: \"preserve\", wordBreak: \"break-word\" }}\n              >\n                {message.message}\n              </Typography>\n            )}\n\n            {/* Display images if available */}\n            {hasImages && (\n              <Box sx={{ width: \"100%\", mt: message.message ? 1 : 0 }}>\n                <ImageList\n                  sx={{\n                    width: \"100%\",\n                    m: 0,\n                    maxHeight: 300,\n                    borderRadius: 1,\n                    overflow: \"hidden\"\n                  }}\n                  cols={images.length > 1 ? 2 : 1}\n                  rowHeight={images.length > 3 ? 100 : 150}\n                >\n                  {images.map((file, index) => (\n                    <ImageListItem key={index}>\n                      <img\n                        src={file}\n                        alt={`Message attachment ${index}`}\n                        loading=\"lazy\"\n                        style={{\n                          objectFit: \"cover\",\n                          width: \"100%\",\n                          height: \"100%\",\n                          cursor: \"pointer\"\n                        }}\n                        onClick={() => window.open(file, \"_blank\")}\n                      />\n                    </ImageListItem>\n                  ))}\n                </ImageList>\n              </Box>\n            )}\n\n            {/* Display documents if available */}\n            {hasDocuments && (\n              <Box sx={{\n                width: \"100%\",\n                mt: message.message || hasImages ? 1 : 0,\n                display: \"flex\",\n                flexDirection: \"column\",\n                gap: 1\n              }}>\n                {documents.map((file, index) => (\n                  <FileMessage\n                    key={index}\n                    file={file}\n                    theme={theme}\n                    isMe={me}\n                  />\n                ))}\n              </Box>\n            )}\n          </>\n        )}\n      </Box>\n      {me && isLastMessage && (\n        <Box\n          sx={{\n            position: \"absolute\",\n            top: 25,\n            right: -16,\n          }}\n        >\n          {getAvatar(\n            message?.sender?.avatar,\n            message?.sender?.firstName,\n            theme,\n            15\n          )}\n        </Box>\n      )}\n    </Stack>\n  );\n};\n\nexport default MessageContainer;\n","import { useEffect, useRef } from \"react\";\nimport { Box, useTheme, Stack } from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport MessageContainer from \"./ConvoSubElements/MessageContainer\";\nimport { scrollToBottom } from \"../../../../utils/scrollToBottom\";\n\nconst ConversationMain = () => {\n  const theme = useTheme();\n  const { user } = useSelector((state) => state.user);\n  const { messages, activeConversation, typingConversation } = useSelector(\n    (state) => state.chat\n  );\n\n  let currentSender = null;\n\n  // Reference to the scrollable element\n  const scrollContainerRef = useRef(null);\n\n  // -------------- inner functions --------------\n  // Function to check if the text only contains emojis\n  const containsOnlyEmojis = (text) => {\n    if (!text) return false;\n\n    const emojiRegex =\n      /[\\u{1F600}-\\u{1F6FF}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/u;\n    const emojiStatus = [...text].every((char) => emojiRegex.test(char));\n\n    if (emojiStatus) {\n      currentSender = null;\n    }\n    return emojiStatus;\n  };\n\n  // Function to determine message type\n  const getMessageType = (message) => {\n    // If message has files but no text, it's still a text message with attachments\n    if (!message.message || message.message.trim() === \"\") {\n      return \"text\"; // Treat empty messages with attachments as text\n    }\n    return containsOnlyEmojis(message.message) ? \"emoji\" : \"text\";\n  };\n\n  // Function to check if the next message only contains emojis\n  const nextMessageOnlyContainsEmojis = (index) =>\n    index < messages.length - 1 &&\n    containsOnlyEmojis(messages[index + 1].message);\n\n  const setTyping = () => {\n    const typingObject = typingConversation?.find(\n      (obj) => obj.conversation_id === activeConversation?._id\n    );\n    return typingObject ? typingObject.typing : false;\n  };\n\n  // ------------------------------------------\n\n  const isTyping = setTyping();\n\n  useEffect(() => {\n    // Auto-scroll to the bottom with an animation when the component mounts\n    if (scrollContainerRef.current) {\n      scrollToBottom(scrollContainerRef);\n    }\n  }, [messages, isTyping]);\n\n  return (\n    <Box\n      width=\"100%\"\n      pl={4}\n      pr={2.2}\n      py={1}\n      sx={{\n        flexGrow: 1,\n        overflowY: \"scroll\",\n        backgroundColor: theme.palette.background.paper,\n        scrollBehavior: \"smooth\", // Enable smooth scrolling\n      }}\n      className=\"scrollbar\"\n      ref={scrollContainerRef}\n    >\n      <Stack spacing={0.5}>\n        {messages?.map((e, index) => {\n          const isStartOfSequence =\n            currentSender === null || e.sender._id !== currentSender;\n\n          const isEndOfSequence =\n            index === messages.length - 1 ||\n            e.sender._id !== messages[index + 1].sender._id ||\n            containsOnlyEmojis(e.message) ||\n            nextMessageOnlyContainsEmojis(index);\n\n          currentSender = e.sender._id;\n\n          const isLastMessage = messages[messages.length - 1] === e;\n\n          return (\n            <MessageContainer\n              key={e._id}\n              message={e}\n              me={user._id === e.sender._id}\n              isStartOfSequence={isStartOfSequence}\n              isEndOfSequence={isEndOfSequence}\n              msgType={getMessageType(e)}\n              isLastMessage={isLastMessage}\n            />\n          );\n        })}\n\n        {isTyping && (\n          <MessageContainer\n            message={{ message: \"Typing\" }}\n            me={false}\n            isStartOfSequence={true}\n            isEndOfSequence={true}\n            msgType={\"typing\"}\n            isLastMessage={true}\n            isTyping={isTyping}\n          />\n        )}\n      </Stack>\n    </Box>\n  );\n};\n\nexport default ConversationMain;\n","import { ShowSnackbar } from \"../../redux/slices/userSlice\";\n\nconst actionHandler = (type, dispatch, setSelectedImages, setSelectedFiles) => {\n  switch (type) {\n    case \"gaming\":\n      return console.log(\"gaming click\");\n\n    // handling photo click\n    case \"photo\":\n      const acceptedImageTypes = [\n        \"image/png\",\n        \"image/jpeg\",\n        \"image/gif\",\n        \"image/webp\",\n      ];\n\n      const imageInput = document.createElement(\"input\");\n      imageInput.type = \"file\";\n      imageInput.accept = acceptedImageTypes.join(\",\");\n      imageInput.multiple = true;\n      imageInput.click();\n\n      // handling selected file\n      imageInput.addEventListener(\"change\", (e) => {\n        const selectedFiles = Array.from(e.target.files);\n        const validFiles = [];\n        let hasInvalidFiles = false;\n\n        selectedFiles.forEach((img) => {\n          if (acceptedImageTypes.includes(img.type)) {\n            validFiles.push(img);\n          } else {\n            hasInvalidFiles = true;\n          }\n        });\n\n        if (hasInvalidFiles) {\n          dispatch(\n            ShowSnackbar({\n              severity: \"info\",\n              message: \"Some selected file types are not allowed\",\n            })\n          );\n        }\n\n        if (validFiles.length > 0 && setSelectedImages) {\n          setSelectedImages((prev) => [...prev, ...validFiles]);\n        }\n\n        // Reset input to allow selecting the same file again\n        imageInput.value = \"\";\n      });\n      break;\n\n    case \"document\":\n      // Accept most common document types\n      const acceptedDocTypes = [\n        // Office documents\n        \"application/msword\",\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", // .docx\n        \"application/vnd.ms-excel\",\n        \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", // .xlsx\n        \"application/vnd.ms-powerpoint\",\n        \"application/vnd.openxmlformats-officedocument.presentationml.presentation\", // .pptx\n\n        // PDF\n        \"application/pdf\",\n\n        // Text\n        \"text/plain\",\n        \"text/csv\",\n\n        // Archives\n        \"application/zip\",\n        \"application/x-rar-compressed\",\n\n        // Other common formats\n        \"application/json\",\n        \"application/xml\",\n      ];\n\n      const fileInput = document.createElement(\"input\");\n      fileInput.type = \"file\";\n      fileInput.accept = acceptedDocTypes.join(\",\");\n      fileInput.multiple = true;\n      fileInput.click();\n\n      // Handling selected documents\n      fileInput.addEventListener(\"change\", (e) => {\n        const selectedFiles = Array.from(e.target.files);\n\n        if (selectedFiles.length > 0 && setSelectedFiles) {\n          setSelectedFiles((prev) => [...prev, ...selectedFiles]);\n\n          // Show success notification\n          dispatch(\n            ShowSnackbar({\n              severity: \"success\",\n              message: `${selectedFiles.length} file(s) selected`,\n            })\n          );\n        }\n\n        // Reset input to allow selecting the same file again\n        fileInput.value = \"\";\n      });\n      break;\n\n    case \"contact\":\n      return console.log(\"contact click\");\n\n    default:\n      break;\n  }\n\n  return null;\n};\n\nexport default actionHandler;\n","import { useState, useEffect, useRef } from \"react\";\r\nimport { Box, Paper, Stack, IconButton, Typography } from \"@mui/material\";\r\nimport { X } from \"phosphor-react\";\r\n\r\nconst ImagePreview = ({ files, onRemove }) => {\r\n    const [previewImages, setPreviewImages] = useState([]);\r\n    const prevFilesRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Clean up previous previews\r\n        if (previewImages && previewImages.length > 0) {\r\n            previewImages.forEach((image) => {\r\n                if (image.url) {\r\n                    URL.revokeObjectURL(image.url);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Reset if no files\r\n        if (!files || files.length === 0) {\r\n            setPreviewImages([]);\r\n            return;\r\n        }\r\n\r\n        // Check if files array changed (not just a re-render)\r\n        const filesChanged = !prevFilesRef.current ||\r\n            prevFilesRef.current.length !== files.length ||\r\n            files.some((file, i) => prevFilesRef.current[i] !== file);\r\n\r\n        if (filesChanged) {\r\n            // Create new preview URLs only if files changed\r\n            const images = files.map((file) => ({\r\n                url: URL.createObjectURL(file),\r\n                name: file.name,\r\n                file,\r\n            }));\r\n            setPreviewImages(images);\r\n            prevFilesRef.current = files;\r\n        }\r\n\r\n        return () => {\r\n            // Cleanup when component unmounts or files change\r\n            if (previewImages) {\r\n                previewImages.forEach((image) => {\r\n                    if (image.url) {\r\n                        URL.revokeObjectURL(image.url);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }, [files]);\r\n\r\n    if (!files || files.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <Paper\r\n            id=\"preview\"\r\n            elevation={3}\r\n            sx={{\r\n                p: 1.5,\r\n                borderRadius: 2,\r\n                mb: 1,\r\n                maxHeight: \"150px\",\r\n                overflowY: \"auto\",\r\n            }}\r\n        >\r\n            <Stack spacing={1}>\r\n                {previewImages.map((image, index) => (\r\n                    <Box\r\n                        key={index}\r\n                        sx={{\r\n                            position: \"relative\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            gap: 1,\r\n                        }}\r\n                    >\r\n                        <Box\r\n                            component=\"img\"\r\n                            src={image.url}\r\n                            alt={`Preview ${index}`}\r\n                            sx={{\r\n                                width: 60,\r\n                                height: 60,\r\n                                objectFit: \"cover\",\r\n                                borderRadius: 1,\r\n                            }}\r\n                        />\r\n                        <Typography variant=\"caption\" noWrap sx={{ flex: 1 }}>\r\n                            {image.name}\r\n                        </Typography>\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => onRemove(index)}\r\n                            sx={{\r\n                                position: \"absolute\",\r\n                                top: -8,\r\n                                right: -8,\r\n                                backgroundColor: (theme) => theme.palette.grey[100],\r\n                                \"&:hover\": {\r\n                                    backgroundColor: (theme) => theme.palette.grey[300],\r\n                                },\r\n                            }}\r\n                        >\r\n                            <X size={16} />\r\n                        </IconButton>\r\n                    </Box>\r\n                ))}\r\n            </Stack>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default ImagePreview; ","import { useState, useEffect, useRef } from \"react\";\r\nimport { Box, Paper, Stack, IconButton, Typography, Divider } from \"@mui/material\";\r\nimport { X, File, FilePdf, FileDoc, FileXls, FileText, FileZip, FileImage } from \"phosphor-react\";\r\n\r\n// Function to format file size\r\nconst formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\n// Function to get file icon based on mime type\r\nconst getFileIcon = (mimeType) => {\r\n    if (mimeType.includes('pdf')) {\r\n        return <FilePdf size={24} weight=\"fill\" />;\r\n    } else if (mimeType.includes('word') || mimeType.includes('doc')) {\r\n        return <FileDoc size={24} weight=\"fill\" />;\r\n    } else if (mimeType.includes('excel') || mimeType.includes('sheet') || mimeType.includes('csv')) {\r\n        return <FileXls size={24} weight=\"fill\" />;\r\n    } else if (mimeType.includes('text') || mimeType.includes('json') || mimeType.includes('xml')) {\r\n        return <FileText size={24} weight=\"fill\" />;\r\n    } else if (mimeType.includes('zip') || mimeType.includes('rar') || mimeType.includes('compressed')) {\r\n        return <FileZip size={24} weight=\"fill\" />;\r\n    } else if (mimeType.includes('image')) {\r\n        return <FileImage size={24} weight=\"fill\" />;\r\n    } else {\r\n        return <File size={24} weight=\"fill\" />;\r\n    }\r\n};\r\n\r\nconst FilePreview = ({ files, onRemove }) => {\r\n    const [fileDetails, setFileDetails] = useState([]);\r\n    const prevFilesRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Reset if no files\r\n        if (!files || files.length === 0) {\r\n            setFileDetails([]);\r\n            return;\r\n        }\r\n\r\n        // Check if files array changed (not just a re-render)\r\n        const filesChanged = !prevFilesRef.current ||\r\n            prevFilesRef.current.length !== files.length ||\r\n            files.some((file, i) => prevFilesRef.current[i] !== file);\r\n\r\n        if (filesChanged) {\r\n            // Create new details only if files changed\r\n            const details = files.map((file) => ({\r\n                name: file.name,\r\n                size: formatFileSize(file.size),\r\n                type: file.type || 'application/octet-stream',\r\n                icon: getFileIcon(file.type || 'application/octet-stream'),\r\n                file,\r\n            }));\r\n            setFileDetails(details);\r\n            prevFilesRef.current = files;\r\n        }\r\n    }, [files]);\r\n\r\n    if (!files || files.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <Paper\r\n            id=\"preview\"\r\n            elevation={3}\r\n            sx={{\r\n                p: 1.5,\r\n                borderRadius: 2,\r\n                mb: 1,\r\n                maxHeight: \"200px\",\r\n                overflowY: \"auto\",\r\n            }}\r\n        >\r\n            <Stack spacing={1}>\r\n                {fileDetails.map((file, index) => (\r\n                    <Box key={index}>\r\n                        {index > 0 && <Divider sx={{ my: 0.5 }} />}\r\n                        <Box\r\n                            sx={{\r\n                                position: \"relative\",\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                gap: 1,\r\n                                p: 0.5,\r\n                            }}\r\n                        >\r\n                            <Box\r\n                                sx={{\r\n                                    color: (theme) =>\r\n                                        file.type.includes('pdf') ? theme.palette.error.main :\r\n                                            file.type.includes('doc') ? theme.palette.primary.main :\r\n                                                file.type.includes('sheet') ? theme.palette.success.main :\r\n                                                    theme.palette.info.main\r\n                                }}\r\n                            >\r\n                                {file.icon}\r\n                            </Box>\r\n                            <Stack sx={{ flex: 1, minWidth: 0 }}>\r\n                                <Typography variant=\"body2\" noWrap fontWeight=\"medium\">\r\n                                    {file.name}\r\n                                </Typography>\r\n                                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                    {file.type.split('/')[1]?.toUpperCase() || 'FILE'} • {file.size}\r\n                                </Typography>\r\n                            </Stack>\r\n                            <IconButton\r\n                                size=\"small\"\r\n                                onClick={() => onRemove(index)}\r\n                                sx={{\r\n                                    position: \"absolute\",\r\n                                    top: -8,\r\n                                    right: -8,\r\n                                    backgroundColor: (theme) => theme.palette.grey[100],\r\n                                    \"&:hover\": {\r\n                                        backgroundColor: (theme) => theme.palette.grey[300],\r\n                                    },\r\n                                }}\r\n                            >\r\n                                <X size={16} />\r\n                            </IconButton>\r\n                        </Box>\r\n                    </Box>\r\n                ))}\r\n            </Stack>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default FilePreview; ","import { useRef, useState, useEffect } from \"react\";\nimport {\n  Stack,\n  TextField,\n  Tooltip,\n  Fab,\n  IconButton,\n  InputAdornment,\n  Popover,\n  useMediaQuery,\n} from \"@mui/material\";\nimport { LinkSimple, Smiley } from \"phosphor-react\";\n\nimport { Actions } from \"../../../../../data\";\nimport { socket } from \"../../../../../utils/socket\";\nimport actionHandler from \"../../../../ChatMediaActions/actionClickHandler\";\nimport { useDispatch } from \"react-redux\";\nimport ImagePreview from \"../../../../ChatMediaActions/ImagePreview\";\nimport FilePreview from \"../../../../ChatMediaActions/FilePreview\";\n\nconst ChatInput = ({\n  openPicker,\n  setOpenPicker,\n  setValue,\n  value,\n  inputRef,\n  handleSubmit,\n  theme,\n  convo_id,\n  isOptimistic,\n  onSubmitWithFiles,\n}) => {\n  const [popoverAnchor, setPopoverAnchor] = useState(null);\n  const [isTyping, setIsTyping] = useState(false);\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const typingTimeoutRef = useRef(null);\n\n  // from redux\n  const dispatch = useDispatch();\n\n  // -------------- Inner Functions --------------\n  const handlePopoverOpen = (event) => {\n    setPopoverAnchor(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setPopoverAnchor(null);\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\" && !event.shiftKey) {\n      event.preventDefault();\n      handleSubmit(event, selectedImages, selectedFiles);\n\n      // Không cần clear ở đây, đã được xử lý trong ConversationFooter\n    }\n  };\n\n  // Submit with button\n  const onSubmit = (event) => {\n    handleSubmit(event, selectedImages, selectedFiles);\n\n    // Không cần clear ở đây, đã được xử lý trong ConversationFooter\n  };\n\n  // Remove image from preview\n  const handleRemoveImage = (index) => {\n    setSelectedImages((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  // Remove file from preview\n  const handleRemoveFile = (index) => {\n    setSelectedFiles((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  // Clear all file previews\n  const clearAllFilePreviews = () => {\n    setSelectedImages([]);\n    setSelectedFiles([]);\n\n\n    // Force re-render preview components\n    setTimeout(() => {\n      window.dispatchEvent(new Event('resize'));\n    }, 0);\n  };\n\n  // --------- typing handlers ---------\n  const startTyping = () => {\n    socket.emit(\"start_typing\", convo_id);\n    setIsTyping(true);\n  };\n\n  const stopTyping = () => {\n    socket.emit(\"stop_typing\", convo_id);\n    setIsTyping(false);\n  };\n\n  const onChangeHandler = (event) => {\n    setValue(event.target.value);\n\n    if (!isTyping && value.trim() !== \"\") {\n      startTyping();\n    }\n\n    clearTimeout(typingTimeoutRef.current);\n    const timer = isOptimistic ? 1000 : 5000;\n    typingTimeoutRef.current = setTimeout(stopTyping, timer); // 1 seconds\n  };\n  // ------------------------------------\n\n  // fn() to handle actions click\n  const handleActions = (type) => {\n    actionHandler(type.toLowerCase(), dispatch, setSelectedImages, setSelectedFiles);\n\n    handlePopoverClose();\n  };\n  // ------------------------------------------\n\n  // Effect to reset selected media when value is cleared externally\n  // (for example, after message is sent from the parent component)\n  useEffect(() => {\n    if (value === \"\") {\n      clearAllFilePreviews();\n    }\n  }, [value]);\n\n  // Khi selectedImages hoặc selectedFiles thay đổi, truyền chúng cho component cha\n  useEffect(() => {\n    if (onSubmitWithFiles) {\n      onSubmitWithFiles(selectedImages, selectedFiles);\n    }\n  }, [selectedImages, selectedFiles, onSubmitWithFiles]);\n\n  const isSmallScreen = useMediaQuery((theme) => theme.breakpoints.down(\"md\"));\n\n  return (\n    <Stack spacing={1} width=\"100%\">\n      {/* Image Preview */}\n      <ImagePreview files={selectedImages} onRemove={handleRemoveImage} />\n\n      {/* File Preview */}\n      <FilePreview files={selectedFiles} onRemove={handleRemoveFile} />\n\n      <TextField\n        inputRef={inputRef}\n        value={value}\n        onChange={(event) => {\n          onChangeHandler(event);\n        }}\n        onKeyDown={handleKeyPress}\n        fullWidth\n        multiline\n        maxRows={3}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder={isSmallScreen ? \"Message...\" : \"Write a message...\"}\n        variant=\"outlined\"\n        InputProps={{\n          sx: {\n            borderRadius: 20,\n            backgroundColor: theme.palette.background.paper,\n            minHeight: 55,\n            \"& textarea\": {\n              scrollbarColor: `${theme.palette.primary.main} transparent`,\n              scrollbarWidth: \"thin\",\n              \"&::-webkit-scrollbar\": {\n                width: \"5px\",\n              },\n              \"&::-webkit-scrollbar-thumb\": {\n                backgroundColor: theme.palette.primary.main,\n                borderRadius: \"10px\",\n              },\n              \"&::-webkit-scrollbar-track\": {\n                backgroundColor: \"transparent\",\n              },\n            },\n          },\n          startAdornment: (\n            <Stack>\n              <Popover\n                open={Boolean(popoverAnchor)}\n                anchorEl={popoverAnchor}\n                onClose={handlePopoverClose}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"center\",\n                }}\n                transformOrigin={{\n                  vertical: \"bottom\",\n                  horizontal: \"center\",\n                }}\n                slotProps={{\n                  paper: {\n                    sx: {\n                      backgroundColor: \"transparent !important\",\n                      boxShadow: \"none\",\n                      padding: 2,\n                    },\n                  },\n                }}\n              >\n                <Stack spacing={2}>\n                  {Actions.map((el) => (\n                    <Tooltip placement=\"right\" title={el.title} key={el.title}>\n                      <Fab\n                        onClick={() => handleActions(el.title)}\n                        sx={{\n                          backgroundColor: theme.palette.primary[el.color],\n                          color: el.contrast,\n                          transition: \"all 0.5s ease\",\n                          \"&:hover\": {\n                            color: \"#fff\",\n                          },\n                        }}\n                        aria-label=\"add\"\n                      >\n                        {el.icon}\n                      </Fab>\n                    </Tooltip>\n                  ))}\n                </Stack>\n              </Popover>\n\n              <InputAdornment position=\"start\">\n                <IconButton onClick={handlePopoverOpen}>\n                  <LinkSimple />\n                </IconButton>\n              </InputAdornment>\n            </Stack>\n          ),\n\n          endAdornment: (\n            <Stack sx={{ position: \"relative\" }}>\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    setOpenPicker(!openPicker);\n                  }}\n                >\n                  <Smiley />\n                </IconButton>\n              </InputAdornment>\n            </Stack>\n          ),\n        }}\n      />\n    </Stack>\n  );\n};\n\nexport default ChatInput;\n","import { useRef, useState, useEffect } from \"react\";\nimport {\n  Box,\n  Stack,\n  IconButton,\n  CircularProgress,\n  useTheme,\n  Grow,\n} from \"@mui/material\";\nimport { PaperPlaneTilt } from \"phosphor-react\";\n\nimport data from \"@emoji-mart/data\";\nimport Picker from \"@emoji-mart/react\";\n\n// redux imports\nimport { useDispatch } from \"react-redux\";\nimport { SendMessage } from \"../../../../redux/slices/actions/chatActions\";\n\nimport ChatInput from \"./ConvoSubElements/ChatInput\";\nimport { socket } from \"../../../../utils/socket\";\n\nconst ConversationFooter = ({\n  convo_id,\n  sendMsgLoading,\n  currentUser,\n  otherUser,\n  activeConversation,\n  isOptimistic,\n}) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const [value, setValue] = useState(\"\");\n  const [openPicker, setOpenPicker] = useState(false);\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const inputRef = useRef(null);\n  const pickerRef = useRef(null);\n\n  const handleEmojiClick = (emoji) => {\n    const input = inputRef.current;\n\n    if (input) {\n      const selectionStart = input.selectionStart;\n      const selectionEnd = input.selectionEnd;\n\n      setValue(\n        value.substring(0, selectionStart) +\n        emoji +\n        value.substring(selectionEnd)\n      );\n\n      // Move the cursor to the end of the inserted emoji with a slight delay\n      setTimeout(() => {\n        const newPosition = selectionStart + emoji.length;\n        input.setSelectionRange(newPosition, newPosition);\n      }, 0);\n    }\n  };\n\n  const handleClickOutsidePicker = (event) => {\n    if (pickerRef.current && !pickerRef.current.contains(event.target)) {\n      setOpenPicker(false);\n    }\n  };\n\n  // Callback để nhận files từ ChatInput component\n  const handleFilesFromChatInput = (images, files) => {\n    setSelectedImages(images);\n    setSelectedFiles(files);\n  };\n\n  // Hàm reset tất cả các files, images, và input field\n  const resetAllFiles = () => {\n    // Reset state\n    setSelectedImages([]);\n    setSelectedFiles([]);\n    setValue(\"\");\n\n    // Reset tất cả các input file\n    document.querySelectorAll('#preview').forEach(el => el.remove());\n\n    // Force cập nhật DOM để preview được xóa\n    setTimeout(() => {\n      window.dispatchEvent(new Event('resize'));\n    }, 0);\n  };\n\n  const handleSubmit = (e, images = selectedImages, files = selectedFiles) => {\n    e.preventDefault();\n\n    const hasMedia = images.length > 0 || files.length > 0;\n    const hasText = value.trim() !== \"\";\n    const hasContent = hasText || hasMedia;\n\n    if (hasContent) {\n      const currentDate = new Date().getTime();\n\n      // Mảng chứa dữ liệu file dưới dạng base64\n      const filePromises = [];\n\n      // Chuyển đổi tất cả các image files sang base64\n      if (images && images.length > 0) {\n        images.forEach(file => {\n          const promise = new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n              resolve({\n                data: reader.result, // base64 data\n                name: file.name,\n                type: file.type,\n                size: file.size,\n                isImage: true\n              });\n            };\n            reader.readAsDataURL(file); // Đọc file dưới dạng base64\n          });\n          filePromises.push(promise);\n        });\n      }\n\n      // Chuyển đổi tất cả các document files sang base64\n      if (files && files.length > 0) {\n        files.forEach(file => {\n          const promise = new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n              resolve({\n                data: reader.result, // base64 data\n                name: file.name,\n                type: file.type,\n                size: file.size,\n                isImage: false\n              });\n            };\n            reader.readAsDataURL(file); // Đọc file dưới dạng base64\n          });\n          filePromises.push(promise);\n        });\n      }\n\n      // Đợi tất cả các file chuyển đổi xong\n      Promise.all(filePromises).then(fileDataArray => {\n        // Create temporary URLs for optimistic UI update\n        const tempImageUrls = images.map(file => URL.createObjectURL(file));\n        const tempFileUrls = files.map(file => URL.createObjectURL(file));\n        const allFileUrls = [...tempImageUrls, ...tempFileUrls];\n\n        let messageData = {\n          approach: \"optimistic\",\n          _id: `${currentDate}`,\n          sender: {\n            _id: currentUser._id,\n            firstName: currentUser.firstName,\n            lastName: currentUser.lastName,\n            avatar: currentUser.avatar,\n          },\n          message: value,\n          conversation: {\n            _id: activeConversation._id,\n            name: activeConversation.name,\n            isGroup: activeConversation.isGroup,\n            users: [currentUser, otherUser],\n            latestMessage: {\n              _id: `${currentDate} + 2500`,\n              sender: currentUser,\n              message: value.length > 0 ? value : `📷 ${images.length} photo(s) and 📎 ${files.length} file(s)`,\n              createdAt: new Date(currentDate).toISOString(),\n              updatedAt: new Date(currentDate).toISOString(),\n            },\n          },\n          files: allFileUrls,          // URLs for optimistic UI update\n          fileData: fileDataArray,     // File data as base64 for backend processing\n          createdAt: new Date(currentDate).toISOString(),\n          updatedAt: new Date(currentDate).toISOString(),\n          __v: 0,\n        };\n\n        if (currentUser._id === otherUser._id) {\n          messageData = {\n            ...messageData,\n            conversation: {\n              ...messageData.conversation,\n              users: [currentUser],\n            },\n          };\n        }\n\n        // Gửi message qua socket\n        socket.emit(\"send_message\", messageData);\n\n        // Cleanup object URLs ngay lập tức\n        allFileUrls.forEach(url => URL.revokeObjectURL(url));\n\n        // Reset tất cả files và inputs\n        resetAllFiles();\n      });\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutsidePicker);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutsidePicker);\n    };\n  }, []);\n\n  return (\n    <Box\n      py={2}\n      px={3}\n      width={\"100%\"}\n      sx={{\n        position: \"sticky\",\n        backgroundColor: theme.palette.background.default,\n        boxShadow: \"0px 0px 2px rgba(0, 0, 0, 0.25)\",\n      }}\n    >\n      <form onSubmit={handleSubmit}>\n        <Stack direction=\"row\" alignItems={\"center\"} spacing={2}>\n          <Stack sx={{ width: \"100%\" }}>\n            <Grow in={openPicker}>\n              <Box\n                ref={pickerRef}\n                sx={{\n                  zIndex: 10,\n                  position: \"fixed\",\n                  bottom: { xs: 80, md: 65 },\n                  right: { xs: 15, sm: 80, md: 100 },\n                }}\n              >\n                <Picker\n                  perLine={8}\n                  autoFocus={true}\n                  theme={theme.palette.mode}\n                  data={data}\n                  onEmojiSelect={(emoji) => {\n                    handleEmojiClick(emoji.native);\n                  }}\n                />\n              </Box>\n            </Grow>\n            {/* Chat Input */}\n            <ChatInput\n              openPicker={openPicker}\n              setOpenPicker={setOpenPicker}\n              inputRef={inputRef}\n              value={value}\n              setValue={setValue}\n              handleSubmit={handleSubmit}\n              theme={theme}\n              convo_id={convo_id}\n              isOptimistic={isOptimistic}\n              onSubmitWithFiles={handleFilesFromChatInput}\n            />\n          </Stack>\n\n          <IconButton\n            type=\"submit\"\n            sx={{\n              height: 40,\n              width: 40,\n              backgroundColor: sendMsgLoading\n                ? theme.palette.background.paper\n                : theme.palette.primary.main,\n              borderRadius: 20,\n              transition: \"background-color 0.2s ease\",\n            }}\n            onClick={(e) => handleSubmit(e)}\n          >\n            {sendMsgLoading ? (\n              <Stack alignItems={\"center\"} justifyContent={\"center\"}>\n                <CircularProgress\n                  color=\"primary\"\n                  sx={{ maxWidth: 15, maxHeight: 15 }}\n                />\n              </Stack>\n            ) : (\n              <PaperPlaneTilt color=\"#ffffff\" size={20} />\n            )}\n          </IconButton>\n        </Stack>\n      </form>\n    </Box>\n  );\n};\n\nexport default ConversationFooter;\n","import { useEffect } from \"react\";\nimport { Stack, useTheme } from \"@mui/material\";\n\n// redux imports\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { getOtherUser } from \"../../../utils/getOtherUser\";\nimport {\n  ConversationFooter,\n  ConversationHeader,\n  ConversationMain,\n} from \"./ConversationElements\";\nimport { GetMessages } from \"../../../redux/slices/actions/chatActions\";\n\nconst Conversation = () => {\n  const theme = useTheme();\n  const {\n    activeConversation,\n    activeConvoFriendship,\n    sendMsgLoading,\n    isOptimistic,\n  } = useSelector((state) => state.chat);\n  const { user, onlineFriends } = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const otherUser = getOtherUser(\n    activeConversation?.users,\n    user._id,\n    onlineFriends\n  );\n\n  useEffect(() => {\n    dispatch(GetMessages(activeConversation?._id));\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeConversation?._id]);\n\n  return (\n    <Stack height={\"100%\"} maxHeight={\"100vh\"} width={\"auto\"}>\n      <ConversationHeader otherUser={otherUser} />\n\n      <ConversationMain />\n\n      {activeConvoFriendship && activeConvoFriendship ? (\n        <ConversationFooter\n          convo_id={activeConversation._id}\n          sendMsgLoading={sendMsgLoading}\n          // --------- Optimistic Approach ---------\n          isOptimistic={isOptimistic}\n          currentUser={user}\n          otherUser={otherUser}\n          activeConversation={activeConversation}\n          // ---------------------------------------\n        />\n      ) : (\n        <Stack\n          py={2}\n          px={3}\n          width={\"100%\"}\n          sx={{\n            position: \"sticky\",\n            backgroundColor: theme.palette.background.default,\n            boxShadow: \"0px 0px 2px rgba(0, 0, 0, 0.25)\",\n          }}\n          alignItems={\"center\"}\n        >\n          You are no longer friends with this user!\n        </Stack>\n      )}\n    </Stack>\n  );\n};\nexport default Conversation;\n","import { Stack, Box, Typography, useTheme, useMediaQuery } from \"@mui/material\";\n\n// redux imports\nimport { useSelector } from \"react-redux\";\n\nimport {\n  ChatsList,\n  Conversation,\n} from \"../../components/PageComponents/GeneralAppPage\";\nimport NoChat from \"../../assets/Illustration/NoChat\";\nimport LoadingScreen from \"../../components/LoadingScreen\";\n\nconst GeneralApp = () => {\n  const theme = useTheme();\n  const { activeConversation, isLoading } = useSelector((state) => state.chat);\n\n  // breakpoint\n  const isSmallScreen = useMediaQuery((theme) => theme.breakpoints.down(\"md\"));\n\n  return (\n    <Stack\n      direction={\"row\"}\n      sx={{\n        width: \"100%\",\n        height: {\n          xs: activeConversation ? \"100vh\" : \"calc(100vh - 65px)\",\n          md: \"100vh\",\n        },\n      }}\n    >\n      {/* Chats List area */}\n      <Box\n        sx={{\n          display: {\n            xs: activeConversation ? \"none\" : \"block\",\n            md: \"block\",\n          },\n          position: \"relative\",\n          height: \"100%\",\n          width: { xs: \"100%\", md: 320 },\n          backgroundColor: theme.palette.background.default,\n          boxShadow: \"0px 0px 2px #00000040\",\n          overflow: \"hidden\",\n        }}\n      >\n        {isLoading && isSmallScreen ? <LoadingScreen /> : <ChatsList />}\n      </Box>\n\n      {/* initializing height and width for conversation area */}\n      <Box\n        sx={{\n          display: {\n            xs: activeConversation ? \"block\" : \"none\",\n            md: \"block\",\n          },\n          height: \"100%\",\n          width: { xs: \"100%\", md: \"calc(100vw - 400px)\" },\n          transition: \"width 0.1s ease-in-out\",\n          backgroundColor: theme.palette.background.paper,\n        }}\n      >\n        {isLoading ? (\n          <LoadingScreen fromChat={true} />\n        ) : activeConversation ? (\n          <Conversation />\n        ) : (\n          // No Chat\n          <Stack\n            sx={{ height: \"100%\", width: \"100%\" }}\n            alignItems={\"center\"}\n            justifyContent={\"center\"}\n          >\n            <NoChat />\n            <Typography variant=\"subtitle2\" sx={{ mt: { xs: -5, md: -10 } }}>\n              Select or Start a new Conversation\n            </Typography>\n          </Stack>\n        )}\n      </Box>\n    </Stack>\n  );\n};\n\nexport default GeneralApp;\n"],"names":["NoChat","_ref","other","theme","useTheme","PRIMARY_MAIN","palette","primary","main","PRIMARY_DARK","dark","PRIMARY_LIGHT","light","isMediumScreen","useMediaQuery","breakpoints","down","isSmallScreen","responsiveDimension","_jsx","Box","sx","mt","children","_jsxs","xmlns","width","height","fill","viewBox","id","x","y","opacity","rx","d","stroke","strokeLinecap","strokeLinejoin","strokeWidth","cx","cy","r","transform","memo","ChatsList","dispatch","useDispatch","user","onlineFriends","searchResults","searchCount","isLoading","useSelector","state","conversations","activeConversation","chat","searchTerm","setSearchTerm","useState","prevSearchTerm","setPrevSearchTerm","usersFound","setUsersFound","page","setPage","useEffect","timer","setTimeout","searchData","keyword","SearchFriends","ClearSearch","clearTimeout","length","JSON","stringify","prevUsersFound","Stack","p","spacing","Typography","component","variant","Search","SearchIconWrapper","MagnifyingGlass","color","StyledInputBase","placeholder","inputProps","onChange","e","target","value","handleSearch","Fragment","Divider","concat","ChatSearchResults","currentPage","onSearchPageChange","handleSearchPageChange","prevpage","currentUser","_id","_Fragment","OnlineFriendsElement","direction","flexGrow","overflow","overflowY","overflowX","className","MembersList","map","AllChatElement","filter","_e$latestMessage","_e$latestMessage2","latestMessage","message","files","conversation","users","chatElementProps","getOtherUser","convo_id","otherUser","position","backgroundColor","background","default","boxShadow","justifyContent","alignItems","onlineStatus","StyledBadge","overlap","anchorOrigin","vertical","horizontal","getAvatar","avatar","firstName","lastName","textTransform","IconButton","VideoCamera","Phone","orientation","flexItem","onClick","closeActiveConversation","XCircle","_fileName$split$pop","file","isMe","fileName","fileUrl","decodeURIComponent","split","pop","error","getFileName","fileIcon","_fileUrl$split$pop","extension","toLowerCase","FilePdf","size","weight","includes","FileDoc","FileXls","FileText","FileZip","FileImage","File","getFileIcon","fileColor","getFileColor","_fileUrl$split$pop2","success","warning","info","Paper","elevation","borderRadius","border","divider","maxWidth","flex","minWidth","fontWeight","noWrap","toUpperCase","handleDownload","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","DownloadSimple","_message$sender","_message$sender2","_message$sender3","_message$sender4","me","isStartOfSequence","isEndOfSequence","msgType","isLastMessage","isTyping","borderRadiusStyle","f","url","hasImages","_f$split$pop","ext","hasDocuments","_f$split$pop2","images","_f$split$pop3","documents","_f$split$pop4","commonPadding","top","left","sender","display","flexDirection","xs","md","minHeight","BeatLoader","speedMultiplier","margin","trim","text","whiteSpace","wordBreak","ImageList","m","maxHeight","cols","rowHeight","index","ImageListItem","src","alt","loading","style","objectFit","cursor","window","open","gap","FileMessage","right","ConversationMain","messages","typingConversation","currentSender","scrollContainerRef","useRef","containsOnlyEmojis","emojiRegex","emojiStatus","every","char","test","setTyping","typingObject","find","obj","conversation_id","typing","current","scrollToBottom","pl","pr","py","paper","scrollBehavior","ref","nextMessageOnlyContainsEmojis","MessageContainer","actionHandler","type","setSelectedImages","setSelectedFiles","console","log","acceptedImageTypes","imageInput","accept","join","multiple","addEventListener","selectedFiles","Array","from","validFiles","hasInvalidFiles","forEach","img","push","ShowSnackbar","severity","prev","acceptedDocTypes","fileInput","onRemove","previewImages","setPreviewImages","prevFilesRef","image","URL","revokeObjectURL","some","i","createObjectURL","name","mb","grey","X","formatFileSize","bytes","Math","floor","parseFloat","pow","toFixed","fileDetails","setFileDetails","details","icon","mimeType","_file$type$split$","my","openPicker","setOpenPicker","setValue","inputRef","handleSubmit","isOptimistic","onSubmitWithFiles","popoverAnchor","setPopoverAnchor","setIsTyping","selectedImages","typingTimeoutRef","handlePopoverClose","stopTyping","socket","emit","onChangeHandler","event","dispatchEvent","Event","ImagePreview","_","FilePreview","TextField","onKeyDown","key","shiftKey","preventDefault","fullWidth","multiline","maxRows","autoComplete","autoFocus","InputProps","scrollbarColor","scrollbarWidth","startAdornment","Popover","Boolean","anchorEl","onClose","transformOrigin","slotProps","padding","Actions","el","Tooltip","placement","title","Fab","handleActions","contrast","transition","InputAdornment","currentTarget","LinkSimple","endAdornment","Smiley","sendMsgLoading","pickerRef","handleClickOutsidePicker","contains","arguments","undefined","hasMedia","currentDate","Date","getTime","filePromises","promise","Promise","resolve","reader","FileReader","onloadend","data","result","isImage","readAsDataURL","all","then","fileDataArray","allFileUrls","messageData","approach","isGroup","createdAt","toISOString","updatedAt","fileData","__v","querySelectorAll","remove","removeEventListener","px","onSubmit","Grow","in","zIndex","bottom","sm","Picker","perLine","mode","onEmojiSelect","emoji","input","selectionStart","selectionEnd","substring","newPosition","setSelectionRange","handleEmojiClick","native","ChatInput","handleFilesFromChatInput","CircularProgress","PaperPlaneTilt","Conversation","activeConvoFriendship","GetMessages","ConversationHeader","ConversationFooter","GeneralApp","LoadingScreen","fromChat"],"sourceRoot":""}