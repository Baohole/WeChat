"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[14],{6522:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(1134),n=r(184);const a=e=>{let{children:t,onSubmit:r,methods:a}=e;return(0,n.jsx)(o.RV,{...a,children:(0,n.jsx)("form",{onSubmit:r,children:t})})}},279:(e,t,r)=>{r.d(t,{m3:()=>c,au:()=>p,sX:()=>_,ZP:()=>o.Z});var o=r(6522),n=r(6314),a=r(9441),i=r(2791),l=r(1134),s=r(184);function c(e){let{keyName:t="",helperText:r,inputs:o=[],...c}=e;const d=(0,i.useRef)(null),{control:p,setValue:h}=(0,l.Gc)(),u=(e,r)=>{const{maxLength:o,name:n}=e.target,a=n.replace(t,""),i=Number(a),l=document.querySelector("input[name=".concat(t).concat(i-1,"]"));let s=e.target.value.toUpperCase();if(0===s.length&&null!==l)e.preventDefault(),l.focus(),h(n,"");else if(s.length>o)s=s[0];else if(s.length>=o&&i<6){const e=document.querySelector("input[name=".concat(t).concat(i+1,"]"));null!==e&&e.focus()}h(n,s),r(e)};return(0,s.jsx)(n.Z,{direction:"row",justifyContent:"center",spacing:2,ref:d,onPaste:e=>{e.preventDefault();e.clipboardData.getData("text").split("").forEach(((e,r)=>{const o="".concat(t).concat(r+1);h(o,e.toUpperCase())}))},children:o.map(((e,o)=>(0,s.jsx)(l.Qr,{name:"".concat(t).concat(o+1),render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,s.jsx)(a.Z,{...t,error:!!n,autoFocus:0===o,placeholder:"-",onInput:e=>{e.target.value=e.target.value.toUpperCase(),u(e,t.onChange)},onChange:e=>{u(e,t.onChange)},onFocus:e=>e.currentTarget.select(),InputProps:{sx:{"& input":{textAlign:"center"}}},inputProps:{maxLength:1,type:"text"},helperText:n?n.message:r,...c})},control:p},e)))})}var d=r(3967);function p(e){let{name:t,helperText:r,...o}=e;const{control:n}=(0,l.Gc)(),i=(0,d.Z)();return(0,s.jsx)(l.Qr,{name:t,control:n,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,s.jsx)(a.Z,{sx:{mt:1},...t,fullWidth:!0,value:"number"===typeof t.value&&0===t.value?"":t.value,InputProps:{sx:{"& textarea":{scrollbarColor:"".concat(i.palette.primary.main," transparent"),scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:i.palette.primary.main,borderRadius:"10px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}}},error:!!n,helperText:n?n.message:r,...o})}})}var h=r(7071),u=r(7087),m=r(4554);const x=(0,i.forwardRef)(((e,t)=>{let{disabledEffect:r=!1,effect:o="blur",sx:n,...a}=e;const i=(0,s.jsx)(m.Z,{component:u.LazyLoadImage,wrapperClassName:"wrapper",effect:r?void 0:o,placeholderSrc:r?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},...a});return(0,s.jsx)(m.Z,{ref:t,component:"span",sx:{lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"},...n},children:i})}));function g(e){let{file:t}=e;if(!t)return null;const r="string"===typeof t?t:t.preview;return(0,s.jsx)(x,{alt:"avatar",src:r,sx:{zIndex:8,overflow:"hidden",borderRadius:"50%",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)"}})}var f=r(5289),v=r(5661),b=r(890),j=r(3400),y=r(9157),Z=r(7123),w=r(9872),C=r(6151),k=r(8579),I=r(7005);function R(e){return e*Math.PI/180}async function S(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const n=await(a=e,new Promise(((e,t)=>{const r=new Image;r.addEventListener("load",(()=>e(r))),r.addEventListener("error",(e=>t(e))),r.setAttribute("crossOrigin","anonymous"),r.src=a})));var a;const i=document.createElement("canvas"),l=i.getContext("2d");if(!l)return null;const s=R(r),{width:c,height:d}=function(e,t,r){const o=R(r);return{width:Math.abs(Math.cos(o)*e)+Math.abs(Math.sin(o)*t),height:Math.abs(Math.sin(o)*e)+Math.abs(Math.cos(o)*t)}}(n.width,n.height,r);i.width=c,i.height=d,l.translate(c/2,d/2),l.rotate(s),l.scale(o.horizontal?-1:1,o.vertical?-1:1),l.translate(-n.width/2,-n.height/2),l.drawImage(n,0,0);const p=document.createElement("canvas"),h=p.getContext("2d");return h?(p.width=t.width,p.height=t.height,h.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise(((e,t)=>{p.toBlob((t=>{e(URL.createObjectURL(t))}),"image/jpeg")}))):null}const P=e=>{let{open:t,handleClose:r,image:o,onUse:a}=e;const[l,c]=(0,i.useState)({x:0,y:0}),[d,p]=(0,i.useState)(0),[h,u]=(0,i.useState)(1),[m,x]=(0,i.useState)(null);return(0,s.jsxs)(f.Z,{open:t,onClose:r,fullWidth:!0,maxWidth:"xs","aria-labelledby":"responsive-dialog-title",keepMounted:!0,sx:{p:4},children:[(0,s.jsxs)(v.Z,{sx:{mb:3},id:"responsive-dialog-title",children:[(0,s.jsxs)(n.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,s.jsx)(b.Z,{variant:"h5",textAlign:"center",p:1.5,children:"Make your Avatar"}),(0,s.jsx)(j.Z,{onClick:r,children:(0,s.jsx)(k.Z,{weight:"fill"})})]}),(0,s.jsx)(n.Z,{justifyContent:"center",alignItems:"center"})]}),(0,s.jsx)(y.Z,{sx:{overflowY:"scroll",height:"25rem",position:"relative"},className:"scrollbar",children:(0,s.jsx)(I.ZP,{image:o,crop:l,cropShape:"round",rotation:d,zoom:h,aspect:1,onCropChange:c,onRotationChange:p,onCropComplete:(e,t)=>{x(t)},onZoomChange:u})}),(0,s.jsx)(Z.Z,{children:(0,s.jsxs)(n.Z,{justifyContent:"space-between",sx:{flexGrow:1},direction:"column",children:[(0,s.jsxs)(n.Z,{direction:"column",justifyContent:"flex-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Z,{variant:"overline",children:"Zoom"}),(0,s.jsx)(w.ZP,{value:h,min:1,max:8,step:.1,"aria-labelledby":"Zoom",onChange:(e,t)=>u(t)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Z,{variant:"overline",children:"Rotation"}),(0,s.jsx)(w.ZP,{value:d,min:0,max:360,step:90,"aria-labelledby":"Rotation",onChange:(e,t)=>p(t)})]})]}),(0,s.jsxs)(n.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,s.jsx)(C.Z,{autoFocus:!0,onClick:r,children:"Cancel"}),(0,s.jsx)(C.Z,{onClick:async()=>{try{const e=await S(o,m,d);a(e)}catch(e){console.error(e)}},autoFocus:!0,children:"Confirm"})]})]})})]})};var q=r(3954),A=r(6934),E=r(2065),z=r(6526),L=r(8389),M=r(4198);const D=(0,A.ZP)("div")({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"}),F=(0,A.ZP)("div")({position:"relative"}),U=(0,A.ZP)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",display:"flex",cursor:"pointer",overflow:"hidden",borderRadius:"50%",alignItems:"center",justifyContent:"center",border:"1px dashed ".concat((0,E.Fq)(t.palette.grey[500],.32))}})),V=(0,A.ZP)(j.Z)((e=>{let{theme:t,setval:r}=e;return{position:"absolute",top:t.spacing(14.5),right:t.spacing(r),zIndex:10,color:t.palette.text.primary,backgroundColor:t.palette.background.default,border:"1px solid ".concat((0,E.Fq)(t.palette.grey[500],.32)),borderRadius:"50%",padding:t.spacing(1),"&:hover":{backgroundColor:t.palette.background.neutral}}})),T=(0,A.ZP)("div")((e=>{let{theme:t}=e;return{zIndex:7,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"calc(100% - 16px)",height:"calc(100% - 16px)",color:t.palette.text.disabled,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter})}}));function Q(e){let{error:t,file:r,disabled:o,helperText:n,onRemove:a,onCrop:i,sx:l,...c}=e;const{getRootProps:d,getInputProps:p,isDragActive:h,isDragReject:u}=(0,q.uI)({multiple:!1,disabled:o,...c}),m=!!r,x=u||!!t;return(0,s.jsxs)(D,{children:[(0,s.jsxs)(F,{children:[(0,s.jsxs)(U,{...d(),sx:{...h&&{opacity:.72},...x&&{borderColor:"error.light",...m&&{bgcolor:"error.lighter"}},...o&&{opacity:.48,pointerEvents:"none"},...m&&{"&:hover":{"& .placeholder":{opacity:1}}},...l},children:[(0,s.jsx)("input",{...p()}),m&&(0,s.jsx)(g,{file:r}),(0,s.jsxs)(T,{className:"placeholder",sx:{"&:hover":{opacity:.72},...m&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>(0,E.Fq)(e.palette.grey[900],.64)},...x&&{color:"error.main",bgcolor:"error.lighter"}},children:[(0,s.jsx)(z.Z,{}),(0,s.jsx)(b.Z,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V,{size:"small",onClick:i,setval:13,children:(0,s.jsx)(L.Z,{})}),(0,s.jsx)(V,{size:"small",onClick:a,setval:.5,children:(0,s.jsx)(M.Z,{})})]})]}),n&&n]})}function _(e){let{name:t,formState:r,onRemove:o,onEdit:n,defaultValues:a,...c}=e;const d=(0,l.Gc)(),[p,u]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),g=()=>{u(!0)},f=()=>{u(!1)},v=async e=>{d.setValue(t,e),n(!0),f()};(0,i.useEffect)((()=>{const e=d.getValues(t);a[t]||!e||m||d.formState.isSubmitSuccessful||(x(!0),g())}),[d,m,t,a]);const b=()=>{x(!1),o()};return(0,s.jsx)("div",{children:(0,s.jsx)(l.Qr,{name:t,control:d.control,render:e=>{let{field:t,fieldState:{error:o}}=e;return(0,s.jsxs)("div",{children:[p&&(0,s.jsx)(P,{open:p,handleClose:f,image:t.value,onUse:v}),(0,s.jsx)(Q,{accept:{"image/jpeg":".jpg, .jpeg","image/png":".png","image/webp":".webp"},error:!!o,file:t.value,onRemove:b,formState:r,onCrop:g,...c}),!!o&&(0,s.jsx)(h.Z,{error:!0,sx:{px:2,textAlign:"center"},children:(!r.isSubmitSuccessful||r.isDirty)&&o.message})]})}})})}},6780:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var o=r(6314),n=r(890),a=r(43),i=r(1087),l=r(2791),s=r(7659),c=r(8007),d=r(1134),p=r(4695),h=r(9709),u=r(4420),m=r(6341),x=r(279),g=r(184);const f=()=>{const{isLoading:e}=(0,u.v9)((e=>e.auth)),{otpEmail:t}=(0,u.v9)((e=>e.auth)),r=(0,u.I0)(),a=c.Ry().shape({email:c.Z_().required("Email Required").email("Invalid Email")}),i={email:t||""},l=(0,d.cI)({resolver:(0,p.X)(a),defaultValues:i}),{handleSubmit:s}=l;return(0,g.jsxs)(x.ZP,{methods:l,onSubmit:s((async e=>{if(t)try{r((0,m.dA)(e))}catch(o){console.error(o)}else try{r((0,m.bi)(e))}catch(o){console.error(o)}})),children:[!t&&(0,g.jsx)(n.Z,{sx:{pl:1,color:e=>e.palette.error.main},children:"Please enter email and click Add Email first"}),(0,g.jsx)(o.Z,{direction:"row",justifyContent:"center",alignItems:"end",spacing:2,children:(0,g.jsx)(x.au,{name:"email",label:"Email address",InputProps:{endAdornment:(0,g.jsx)(g.Fragment,{children:t?(0,g.jsx)(h.Z,{loading:e,size:"small",type:"submit",variant:"outlined",sx:{py:1,width:"9rem",color:e=>"light"===e.palette.mode?"common.black":"","&:hover":{bgcolor:"primary.main",color:"common.white"}},children:"Resend OTP"}):(0,g.jsx)(h.Z,{loading:e,size:"small",type:"submit",variant:"outlined",sx:{py:1,width:"9rem",color:e=>"light"===e.palette.mode?"common.black":"","&:hover":{bgcolor:"primary.main",color:"common.white"}},children:"Add Email"})})}})})]})},v=()=>{const{isLoading:e}=(0,u.v9)((e=>e.auth)),{otpEmail:t}=(0,u.v9)((e=>e.auth)),r=(0,u.I0)(),n=(0,l.useRef)(null),a=c.Ry().shape({otp1:c.Z_().required("Required"),otp2:c.Z_().required("Required"),otp3:c.Z_().required("Required"),otp4:c.Z_().required("Required"),otp5:c.Z_().required("Required"),otp6:c.Z_().required("Required")}),i=(0,d.cI)({mode:"onChange",resolver:(0,p.X)(a),defaultValues:{otp1:"",otp2:"",otp3:"",otp4:"",otp5:"",otp6:""}}),{handleSubmit:f}=i;return(0,g.jsx)(x.ZP,{methods:i,onSubmit:f((async e=>{try{r((0,m.k9)({email:t,otp:"".concat(e.otp1).concat(e.otp2).concat(e.otp3).concat(e.otp4).concat(e.otp5).concat(e.otp6),recaptchaRef:n}))}catch(o){console.error(o)}})),children:(0,g.jsxs)(o.Z,{spacing:3,children:[(0,g.jsx)(x.m3,{disabled:!t,keyName:"otp",inputs:["otp1","otp2","otp3","otp4","otp5","otp6"]}),(0,g.jsx)(s.Z,{ref:n,size:"invisible",sitekey:"6LeDXQQrAAAAACYSTac3Hh-doPiwRIC2fxIkQQ7u",theme:"dark"}),(0,g.jsx)(h.Z,{loading:e,fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:!t,sx:{mt:3,bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800"}},children:"Verify OTP"})]})})},b=()=>(0,g.jsxs)(o.Z,{spacing:2,sx:{my:5,position:"realative"},children:[(0,g.jsxs)(o.Z,{justifyContent:"center",alignItems:"center",spacing:1,children:[(0,g.jsx)(n.Z,{component:"h1",variant:"h4",children:"Let's Get You Verified"}),(0,g.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,g.jsx)(n.Z,{variant:"body2",children:"Already Verified?"}),(0,g.jsx)(a.Z,{to:"/auth/login",component:i.rU,variant:"subtitle2",children:"Sign In"})]})]}),(0,g.jsx)(f,{}),(0,g.jsx)(v,{})]})}}]);
//# sourceMappingURL=14.e4bf4b82.chunk.js.map